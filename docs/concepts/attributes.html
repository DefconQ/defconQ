<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-concepts/attributes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Attributes | DefconQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://DefconQ.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://DefconQ.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://DefconQ.github.io/docs/concepts/attributes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Attributes | DefconQ"><meta data-rh="true" name="description" content="A cornerstone principle in KDB/Q, integral to query optimization, is the concept of Attributes. Attributes serve as metadata that can be attached to lists of special forms, dictionaries, or table columns (which are basically lists), amplifying data retrieval speed and consequently enhancing query efficiency and performance. By attaching metadata about the implied structure of the list associated with a specific Attribute, the Q interpreter can enact optimizations, resulting in a notable performance boost. This post not only provides a comprehensive explanation of various Attributes and their properties but also emphasizes their strategic utilization and optimal placement in different scenarios."><meta data-rh="true" property="og:description" content="A cornerstone principle in KDB/Q, integral to query optimization, is the concept of Attributes. Attributes serve as metadata that can be attached to lists of special forms, dictionaries, or table columns (which are basically lists), amplifying data retrieval speed and consequently enhancing query efficiency and performance. By attaching metadata about the implied structure of the list associated with a specific Attribute, the Q interpreter can enact optimizations, resulting in a notable performance boost. This post not only provides a comprehensive explanation of various Attributes and their properties but also emphasizes their strategic utilization and optimal placement in different scenarios."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://DefconQ.github.io/docs/concepts/attributes"><link data-rh="true" rel="alternate" href="https://DefconQ.github.io/docs/concepts/attributes" hreflang="en"><link data-rh="true" rel="alternate" href="https://DefconQ.github.io/docs/concepts/attributes" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://R6JV2N50EX-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DefconQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DefconQ Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E9ED09HNE3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E9ED09HNE3",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="DefconQ" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.5860f28a.css">
<script src="/assets/js/runtime~main.33bdd682.js" defer="defer"></script>
<script src="/assets/js/main.b17310f6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#74e8a3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Stay up to date with the latest blogs posts - subscribe to my free Substack newsletter now <a href="https://defconq.substack.com">Free Substack Newsletter</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="DefconQ Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="150" width="50"><img src="/img/logoLight.svg" alt="DefconQ Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="150" width="50"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Learn</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/about/about">About</a><a class="navbar__item navbar__link" href="/testimonials/testimonials">Testimonials</a><a class="navbar__item navbar__link" href="/happyHour/happyHour">Happy Hour</a><a class="navbar__item navbar__link" href="/cv/cv">CV</a><a href="https://defconq.substack.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://defconq.myspreadshop.co.uk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Swag<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/DefconQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdbq-study-roadmap">KDB/Q Study Roadmap</a><button aria-label="Expand sidebar category &#x27;KDB/Q Study Roadmap&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdbq-language">KDB/Q Language</a><button aria-label="Expand sidebar category &#x27;KDB/Q Language&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdb-architecture">KDB Architecture</a><button aria-label="Expand sidebar category &#x27;KDB Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/important-concepts">Important Concepts</a><button aria-label="Collapse sidebar category &#x27;Important Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/concepts/attributes">Attributes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/memoryManagement">Memory Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/garbageCollection">Garbage Collection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/amend">Amend, Amend At: The Swiss Army knife among KDB/Q operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/dictionariesTables">Dictionaries and Tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/qsql">QSQL - Querying Your Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/fby">Mastering the Art of Filtering: An In-Depth Look at fby in KDB/Q</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/functionalSelect">Embracing Terseness: Functional Forms and Parse Trees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/joins">Joins: Connecting the Dots for Data Clarity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/iterators">Iterators: Navigating Vectors Without the Need for Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/ipc">Fundamentals of Interprocess Communication (IPC)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/concepts/ipcNextLevel">Beyond the Fundamentals: Next Level Interprocess Communications</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/productivity-tools">Productivity Tools</a><button aria-label="Expand sidebar category &#x27;Productivity Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/important-concepts"><span itemprop="name">Important Concepts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Attributes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Attributes</h1>
<p>A cornerstone principle in KDB/Q, integral to query optimization, is the concept of Attributes. Attributes serve as metadata that can be attached to lists of special forms, dictionaries, or table columns (which are basically lists), amplifying data retrieval speed and consequently enhancing query efficiency and performance. By attaching metadata about the implied structure of the list associated with a specific Attribute, the Q interpreter can enact optimizations, resulting in a notable performance boost. This post not only provides a comprehensive explanation of various Attributes and their properties but also emphasizes their strategic utilization and optimal placement in different scenarios.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-attributes">What are Attributes<a href="#what-are-attributes" class="hash-link" aria-label="Direct link to What are Attributes" title="Direct link to What are Attributes">​</a></h2>
<p>As mentioned earlier, <a href="https://code.kx.com/q4m3/8_Tables/#88-attributes" target="_blank" rel="noopener noreferrer">Attributes</a> serve as metadata that can be assigned to lists with a special form, dictionaries, and table columns to accelerate retrieval functions and other operations. All Attributes, except for the <strong>grouped</strong> Attribute, are descriptive rather than prescriptive. This means that applying an Attribute merely asserts that a list has a special form without altering or recreating its structure; this responsibility lies entirely with the developer. KDB/Q features four Attributes: <strong>sorted</strong> (s), <strong>unique</strong> (u), <strong>parted</strong> (p), and <strong>grouped</strong> (g), and while their names provide a basic understanding, there&#x27;s more complexity to Attributes than meets the eye. Let&#x27;s delve deeper into their nuances.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sorted-s"><a href="https://code.kx.com/q4m3/8_Tables/#881-sorted-s" target="_blank" rel="noopener noreferrer">Sorted (<code>`s#</code>)</a><a href="#sorted-s" class="hash-link" aria-label="Direct link to sorted-s" title="Direct link to sorted-s">​</a></h3>
<p>In KDB/Q, the default search algorithm is a linear search, which can be quite slow for large datasets since it requires traversing the entire list to find an element. Applying the <strong>sorted</strong> Attribute (````s#```) to a list, indicates that the elements of the list are in ascending order, thereby replacing the linear search algorithm with a more efficient binary search. Consequently, operations like <a href="https://code.kx.com/q/ref/find/" target="_blank" rel="noopener noreferrer">Find <code>?</code></a>, <a href="https://code.kx.com/q/ref/equal/" target="_blank" rel="noopener noreferrer">Equal <code>=</code></a>, <a href="https://code.kx.com/q/ref/in/" target="_blank" rel="noopener noreferrer">in</a>, and <a href="https://code.kx.com/q/ref/within/" target="_blank" rel="noopener noreferrer">within</a> become faster with the application of this Attribute.</p>
<p>An additional optimization carried out automatically when applying the <strong>sorted</strong> Attribute involves the operations executed when applying <a href="https://code.kx.com/q/ref/min/" target="_blank" rel="noopener noreferrer">min</a> and <a href="https://code.kx.com/q/ref/max/" target="_blank" rel="noopener noreferrer">max</a> to a sorted list. Since the list is arranged in ascending order, <code>min</code> essentially corresponds to the first element, while <code>max</code> corresponds to the last. Let&#x27;s examine how the <strong>sorted</strong> Attribute enhances performance through a few simple examples.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// First we generate a list of numbers from 0 to 100000000 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)x:til 100000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// We then try to search for the last element in our list and see that this takes 134 milliseconds to do so</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)\t x?last x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">134</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Let&#x27;s now apply the sorted Attribute and repeat the searches </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)s:`s#x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)\t s?last s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can use the <a href="https://code.kx.com/q/basics/syscmds/#t-timer" target="_blank" rel="noopener noreferrer"><code>\t</code></a> system command to time how long a function takes to execute. Additionally, the system command <a href="https://code.kx.com/q/basics/syscmds/#ts-time-and-space" target="_blank" rel="noopener noreferrer"><code>\ts</code></a> gives you information about the execution time in milliseconds and the space used in bytes.</p></div></div>
<p>As you can see, applying the <strong>sorted</strong> Attribute to a list speeds up operations significantly. Even though both lists are sorted from the smallest element to the largest (remember, <code>til n</code> creates a list of numbers from <code>0 to n-1</code>), searching for the last element in the list without the <strong>sorted</strong> Attribute applied takes roughly 0.2 seconds, while the search in the list with the <strong>sorted</strong> Attribute applied returned immediately.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The <strong>sorted</strong> Attribute is the only Attribute that adds no memory overhead when being applied to the data</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unique-u"><a href="https://code.kx.com/q4m3/8_Tables/#882-unique-u" target="_blank" rel="noopener noreferrer">Unique (<code>`u#</code>)</a><a href="#unique-u" class="hash-link" aria-label="Direct link to unique-u" title="Direct link to unique-u">​</a></h3>
<p>The <strong>unique</strong> Attribute, as the name implies, indicates that the elements of a list are distinct. Applying the <strong>unique</strong> Attribute to a list significantly speeds up the performance of operations such as searching, as KDB/Q can terminate the search upon finding the initial occurrence. When applying the <strong>unique</strong> Attribute to a list, KDB/Q generates a hash table in the background, mapping each unique element of the list to its corresponding index. This transformation shifts the linear search algorithm to a constant lookup with <code>O(1)</code> time complexity. As your dataset grows, the <strong>unique</strong> Attribute yields the most substantial performance enhancement, establishing it as the fastest Attribute for lookups among the four Attributes.</p>
<p>Let&#x27;s explore what the metadata of the <strong>unique</strong> Attribute might resemble behind the scenes:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:-10?10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 3 8 2 9 5 7 0 1 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)group l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4| 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3| 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8| 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2| 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9| 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5| 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7| 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0| 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1| 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6| 9</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Attempting to apply the <strong>unique</strong> Attribute to a list of non-unique elements results in my favorite <a href="https://code.kx.com/q4m3/B_Error_Messages/" target="_blank" rel="noopener noreferrer">KDB/Q error</a> of all time: u-fail. It&#x27;s KDB/Q&#x27;s unique way of telling you that there&#x27;s still much to learn.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)`u#1 2 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;u-fail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [0]  `u#1 2 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>Each of the three Attributes—<strong>unique</strong>, <strong>grouped</strong>, and <strong>parted</strong>—introduces a memory overhead when being applied to a list. Further details on this topic will be covered in a subsequent section of this post.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="parted-p"><a href="https://code.kx.com/q4m3/8_Tables/#883-parted-p" target="_blank" rel="noopener noreferrer">Parted (<code>`p#</code>)</a><a href="#parted-p" class="hash-link" aria-label="Direct link to parted-p" title="Direct link to parted-p">​</a></h3>
<p>Assigning the <strong>parted</strong> Attribute to a list indicates that elements with the same value are adjacent, appearing next to one another. The following, simple example should illustrate a parted list.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)p:2 2 3 3 3 4 4 4 9 9 1 1 1 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>While the <strong>unique</strong> Attribute is the optimal choice for a list without duplicate elements, the <strong>parted</strong> Attribute can be applied to a list with duplicate values. However, it&#x27;s essential to note that, to apply the <strong>parted</strong> Attribute, all elements with the same value must be adjacent to each other. This can be easily achieved by sorting the list.</p>
<p>Let&#x27;s check this out</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create a list of 20 random values between 0 and 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)20?3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 2 1 1 0 2 2 0 0 0 0 2 2 1 1 2 2 1 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// sort the list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)asc 20?3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#0 0 0 0 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Apply the parted Attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)`p#asc 20?3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`p#0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 2 2 2 2 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>As you can see, KDB/Q automatically applies the <strong>sorted</strong> Attribute when you sort a list (this can be seen by the <code>`s#</code> symbol in front of the list). However, we can still apply the <strong>parted</strong> Attribute after we sorted the list using <code>`p#</code></p></div></div>
<p>Like the <strong>unique</strong> Attribute, when you apply the <strong>parted</strong> Attribute to a list, KDB/Q generates a hash table in the background. This hash table maps each unique element of the list to the starting index of the block of equal elements. Essentially, it associates the first index of each contiguous block with its corresponding unique element. The following example should provide a clearer understanding of this concept.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Let&#x27;s consider the previous example of a list of 20 random numbers between 0 and 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:asc 20?3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#0 0 0 0 0 0 1 1 1 1 1 1 2 2 2 2 2 2 2 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)first each group l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0| 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1| 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2| 12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As evident from the above example, we have a list of three numbers repeated multiple times. Sorting the list creates contiguous blocks where each element with the same value is adjacent. The <strong>parted</strong> Attribute will then map the first index of each distinct element to the corresponding element and store this mapping in a hash table.</p>
<p>As you can see, the element with the value 0 starts at index 0, the element with value 1 starts at index 6 and the element with value 2 starts at index 12.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="grouped-g"><a href="https://code.kx.com/q4m3/8_Tables/#884-grouped-g" target="_blank" rel="noopener noreferrer">Grouped (<code>`g#</code>)</a><a href="#grouped-g" class="hash-link" aria-label="Direct link to grouped-g" title="Direct link to grouped-g">​</a></h3>
<p>The <strong>grouped</strong> Attribute stands out as the most versatile Attribute, as it can be applied to any list, regardless of its structure. When applying the <strong>grouped</strong> Attribute, KDB/Q generates a hash table in the background, mapping each index of every distinct element to its corresponding hash value. Due to the maintenance of a hash table with all indexes, the <strong>grouped</strong> Attribute incurs the highest memory overhead and is most effective when handling data without a specific order. Further details on this can be found in the later section of this post.</p>
<p>Below example should illustrate the functionality of the group Attribute:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:100?10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6 0 1 4 7 6 8 1 8 3 0 7 6 4 6 5 4 2 5 7 7 7 6 2 9 2 4 4 7 9 3 2 1 8 3 1 7 2 0 8 0 5 8 9 6 6 3 8 6 5 7 7 0 4 5 0 1 7 8 3 2 1 8 7 6 0 7 7 5 5 0 8 9 7 4 7 7 5 9 1 4 3 9 8 9 9 5 4 0 4 3 8 0 7 9 7 8 9 3 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)group l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6| 0 5 12 14 22 44 45 48 64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0| 1 10 38 40 52 55 65 70 88 92</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1| 2 7 32 35 56 61 79</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4| 3 13 16 26 27 53 74 80 87 89</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">7| 4 11 19 20 21 28 36 50 51 57 63 66 67 73 75 76 93 95</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">8| 6 8 33 39 42 47 58 62 71 83 91 96</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3| 9 30 34 46 59 81 90 98</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5| 15 18 41 49 54 68 69 77 86</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2| 17 23 25 31 37 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">9| 24 29 43 72 78 82 84 85 94 97 99</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As evident, the <strong>grouped</strong> Attribute establishes a mapping of every index for each distinct element to its corresponding element. This characteristic makes the <strong>grouped</strong> Attribute unique as it is the only Attribute that remains consistently maintained when appending elements to the list.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When adding a new element to the end of a sorted list which has the <strong>sorted</strong> Attribute applied, KDB/Q  will only keep the Attribute pesisted if the new element adheres to the sorted property of the list.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`s#til 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#0 1 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#0 1 2 3 4 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0 1 2 3 4 5 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="applying-attributes">Applying Attributes<a href="#applying-attributes" class="hash-link" aria-label="Direct link to Applying Attributes" title="Direct link to Applying Attributes">​</a></h2>
<p>Having explored the definition of each Attribute and its functioning, let&#x27;s delve into something more hands-on and take a look at how Attributes are assigned to a list that aligns with the properties of the corresponding Attribute. Applying an Attribute couldn&#x27;t be easier, you simply use the character symbol of the respective Attribute and use <a href="https://code.kx.com/q/ref/set-attribute/#set-attribute" target="_blank" rel="noopener noreferrer"><code>#</code></a> to apply the Attribute. Let&#x27;s look at some examples</p>
<p><strong>Sorted Attribute</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`s#til 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#0 1 2 3 4 5 6 7 8 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:asc 10?100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#22 22 38 50 51 51 52 57 79 81</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Applying the sorted Attribute on a non-sorted list will throws a s-fail error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)`s#10?100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;s-fail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [0]  `s#10?100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Sorting a list in ascending order will automatically apply the <strong>sorted</strong> Attribute</p></div></div>
<p><strong>Unique Attribute</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/// Generate 10 random numers between 0 and 100 without repetition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`u#-10?100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`u#82 69 49 62 97 67 34 0 83</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Applying the unique Attribute to a non-unique list of elements throws a u-fail error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)`u#2 2 3 4 5 5 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;u-fail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [0]  `u#2 2 3 4 5 5 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ^</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Parted Attribute</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`p#raze 3#&#x27;1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`p#1 1 1 2 2 2 3 3 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// !!!! Applying the parted Attribute to a non-parted list will also throw a u-fail error !!!!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`p#raze 3#&#x27;1 2 3 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;u-fail</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [0]  show l:`p#raze 3#&#x27;1 2 3 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q))\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)raze 3#&#x27;1 2 3 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 1 2 2 2 3 3 3 1 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Grouped Attribute</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`g#10?3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`g#0 0 1 0 0 0 2 1 1 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <strong>grouped</strong> Attribute is the only Attribute that can be applied to any list</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="removing-attributes">Removing Attributes<a href="#removing-attributes" class="hash-link" aria-label="Direct link to Removing Attributes" title="Direct link to Removing Attributes">​</a></h2>
<p>In order to remove an Attribute, simply use the empty symbol character <code>`</code> and the the <a href="https://code.kx.com/q/ref/set-attribute/#set-attribute" target="_blank" rel="noopener noreferrer"><code>`#</code></a> operator</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)l:`s#1 2 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#1 2 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)`#l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 2 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Verifying the Attribute applied on a list</strong></p>
<p>You can verify whether a list has an Attribute or not by using the <a href="https://code.kx.com/q/ref/attr/" target="_blank" rel="noopener noreferrer"><code>attr</code></a> keyword.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)attr 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)attr asc 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)attr `#2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)attr `s#2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="applying-attributes-to-table-columns">Applying Attributes to table columns<a href="#applying-attributes-to-table-columns" class="hash-link" aria-label="Direct link to Applying Attributes to table columns" title="Direct link to Applying Attributes to table columns">​</a></h2>
<p>Given that the individual columns of a table are basically lists, applying an Attribute to a column of a table is as straightforward as applying an Attribute to a list. The syntax however is slightly different and you have to use an <a href="https://code.kx.com/q4m3/9_Queries_q-sql/#95-the-update-template" target="_blank" rel="noopener noreferrer"><code>update</code></a>  statement. <strong>Note:</strong> If you are not familiar with <code>q-sql</code> and how to query tables I suggest to read <a href="https://code.kx.com/q4m3/9_Queries_q-sql/" target="_blank" rel="noopener noreferrer">Chapter 9: Queries - q-sql</a> of &quot;Q for Mortals&quot; by Jeffry A. Borror.</p>
<p>Let&#x27;s create a table first</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)table:([] a:10?100; b:10?`3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show table:([] a:10?100; b:10?`3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a  b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">53 lcb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">40 jap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">34 glk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">49 lmj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">32 ajb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43 khi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">21 pho</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43 kib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">20 fod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">38 ecj</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We then use the <code>meta</code> keyword to inspect the meta data of our table and see that there is no Attribute (column a) applied.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)meta table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c| t f a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-| -----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a| j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can use <a href="https://code.kx.com/q/ref/meta/" target="_blank" rel="noopener noreferrer">meta</a> to inspect the meta data of a table</p></div></div>
<p>Sorting a table will automatically apply the <strong>parted</strong> Attribute rather than the <strong>sorted</strong> Attribute</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)meta asc table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c| t f a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-| -----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a| j   p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>However, we can apply the <strong>sorted</strong> Attribute to a table with the following update statement:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)meta t:update `s#a from asc table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c| t f a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-| -----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a| j   s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="operations-on-lists-with-attributes">Operations on lists with Attributes<a href="#operations-on-lists-with-attributes" class="hash-link" aria-label="Direct link to Operations on lists with Attributes" title="Direct link to Operations on lists with Attributes">​</a></h2>
<p>Because Attributes, except for the <strong>grouped</strong> Attribute, are rather descriptive than prescriptive, any operation on lists that contradicts the property of the applied Attribute will result in the removal of the Attribute from the list. The <strong>sorted</strong>, <strong>grouped</strong>, and <strong>unique</strong> Attributes are retained in memory when you add a new element to a list, provided the new element adheres to the properties of the Attribute. The <strong>parted</strong> Attribute on the other hand will always be removed, no matther the operation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operations-on-attributes-in-memory">Operations on Attributes in Memory<a href="#operations-on-attributes-in-memory" class="hash-link" aria-label="Direct link to Operations on Attributes in Memory" title="Direct link to Operations on Attributes in Memory">​</a></h3>
<p>As explained preserving the applied Attribute when adding elements to a list depends on the new element adhering to the properties of the Attribute. Conversely, removing elements from a list always results in the removal of the Attribute. Naturally, any operation that contravenes the properties of the Attribute will also lead to its removal.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sorted-lists">Sorted Lists<a href="#sorted-lists" class="hash-link" aria-label="Direct link to Sorted Lists" title="Direct link to Sorted Lists">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`s#1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Amend an element that maintains the sorted Attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#1 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Amend an element that removes the sorted Attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 2 3 4 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a sorted list again</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`s#1 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#1 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//  Deleting the element at index 1 will remove the sorted Attribute </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)l _ 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)l except 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Deleting the first element of the list removes the sorted Attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)1_l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Deleting the last element of the list removes the sorted Attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)-1_l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 2 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="unique-lists">Unique Lists<a href="#unique-lists" class="hash-link" aria-label="Direct link to Unique Lists" title="Direct link to Unique Lists">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`u#1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`u#1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`u#1 2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 2 3 4 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)l except 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)l _ 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)1_l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)-1_l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 2 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="parted-lists">Parted Lists<a href="#parted-lists" class="hash-link" aria-label="Direct link to Parted Lists" title="Direct link to Parted Lists">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create a parted list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`p#raze 3#&#x27;1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`p#1 1 1 2 2 2 3 3 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Amending an element to a parted list will remove the Attribute even if the parted structure is maintained</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 1 2 2 2 3 3 3 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`p#raze 3#&#x27;1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`p#1 1 1 2 2 2 3 3 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Deleting elements from a parted list will remove the Atttribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l _ 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 2 2 2 3 3 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`p#raze 3#&#x27;1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`p#1 1 1 2 2 2 3 3 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l _:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 2 2 2 3 3 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`p#raze 3#&#x27;1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`p#1 1 1 2 2 2 3 3 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:l except 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 1 3 3 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>The <strong>parted</strong> Attribute is distinctive in that it will be removed irrespective of the operation applied. Even when appending a new element that aligns with the properties of the parted list, the Attribute will still be eliminated.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="grouped-lists">Grouped Lists<a href="#grouped-lists" class="hash-link" aria-label="Direct link to Grouped Lists" title="Direct link to Grouped Lists">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create a grouped list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l:`g#10?2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`g#1 1 1 0 1 1 1 1 1 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Amending a new element to a grouped list will maintain the grouped Attribute no matter what</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`g#1 1 1 0 1 1 1 1 1 1 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l,:2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`g#1 1 1 0 1 1 1 1 1 1 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l _ 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 0 1 1 1 1 1 1 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l _ 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 0 1 1 1 1 1 1 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show l except 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show 1_l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 0 1 1 1 1 1 1 1 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show -1_l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 1 0 1 1 1 1 1 1 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Checking whether the mentioned properties are valid for in-memory tables is a task left for the curious reader.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="operations-on-attributes-on-disk">Operations on Attributes on Disk<a href="#operations-on-attributes-on-disk" class="hash-link" aria-label="Direct link to Operations on Attributes on Disk" title="Direct link to Operations on Attributes on Disk">​</a></h3>
<p>Let&#x27;s now have a look at what behaviour operations on Attributes on Disk have:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sorted-lists-on-disk">Sorted Lists on Disk<a href="#sorted-lists-on-disk" class="hash-link" aria-label="Direct link to Sorted Lists on Disk" title="Direct link to Sorted Lists on Disk">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)\pwd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;/Users/Alexander/repos/testing/attributes&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)\ls</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a sorted list and save it to disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)`:l set `s#1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`:l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Load the content of the variable back into memory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)get `:l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#1 2 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Amend a new element that preservers the sorted Attribute and save it to disk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q).[`:l;();,;4]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`:l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// When loading the variable back to memory, we can see that the sorted Attribute was maintained</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)get `:l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`s#1 2 3 4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory-overhead-of-attributes">Memory Overhead of Attributes<a href="#memory-overhead-of-attributes" class="hash-link" aria-label="Direct link to Memory Overhead of Attributes" title="Direct link to Memory Overhead of Attributes">​</a></h2>
<p>While adding Attributes to your structured list can enhance performance significantly, they also introduce some memory overhead. All Attributes except the <strong>sorted</strong> Attribute will contribute to memory overhead in your processes. Only the <strong>sorted</strong> Attribute will not introduce any memory overhead. The subsequent section will discuss his memory overhead and should be thoroughly examined for the optimal application of Attributes. Individual testing is recommended to assess whether the performance improvement resulting from the application of an Attribute is justified.</p>
<table><thead><tr><th>Attribute</th><th>Memory overhead in bytes [*]</th><th>Notes</th></tr></thead><tbody><tr><td>sorted <code>`s#</code></td><td>0</td><td></td></tr><tr><td>unique <code>`u#</code></td><td>16*n</td><td></td></tr><tr><td>parted <code>`p#</code></td><td>24*u</td><td></td></tr><tr><td>grouped <code>`g#</code></td><td>(24*u)+4*n</td><td>Since Q <a href="https://code.kx.com/q/releases/ChangesIn3.0/" target="_blank" rel="noopener noreferrer">v3.0</a> this should be 8 bytes as integer changed from 32bit to 64 bit</td></tr></tbody></table>
<p>[*] Source: <a href="https://code.kx.com/q/wp/data-management/" target="_blank" rel="noopener noreferrer">https://code.kx.com/q/wp/data-management/</a></p>
<p>If you&#x27;re curious about how we arrived at these figures, allow me to provide an explanation.</p>
<p>The <strong>sorted</strong> Attribute is clear-cut; it&#x27;s the sole Attribute that doesn&#x27;t introduce any memory overhead. However, for the remaining Attributes—<strong>unique</strong>, <strong>parted</strong>, and <strong>grouped</strong>—KDB/Q generates a hash map in the background. Each distinct element gets hashed to a GUID <a href="https://code.kx.com/q/ref/#datatypes" target="_blank" rel="noopener noreferrer">datatype</a>, which occupies 16 bytes. Consequently, the <strong>unique</strong> Attribute incurs a memory overhead of 16 bytes multiplied by <code>n</code>, where <code>n</code> represents the count of unique elements.</p>
<p>The <strong>parted</strong> Attribute similarly consumes 16 bytes for each unique element <code>u</code>. However, due to the nature of the <strong>parted</strong> Attribute, which retains the index of the initial element in a block of contiguous, distinct elements, this index points to a list of uniform values. A pointer to a list requires 8 bytes, thereby leading to the <strong>parted</strong> Attribute requiring <code>(16+8)</code> bytes times <code>u</code> elements.</p>
<p>The <strong>grouped</strong> Attribute, being the most memory-intensive among all Attributes, demands precisely the same number of bytes as the <strong>parted</strong> Attribute. However, since the <strong>grouped</strong> Attribute stores not only the initial index of a continuous list of unique elements but also every index of all unique elements dispersed throughout the list, it consumes an extra 4 bytes per index of each element (as indexes are represented as integers requiring 4 bytes). Consequently, the total memory required for the <strong>grouped</strong> Attribute is <code>(16+8)*u+4n</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-use-attributes">When to use Attributes<a href="#when-to-use-attributes" class="hash-link" aria-label="Direct link to When to use Attributes" title="Direct link to When to use Attributes">​</a></h2>
<p>Due to the above mentioned memory overhead, KX does not advise utilizing Attributes on data structures with fewer than 1 million elements. This is also the reason why Attributes are not applied by default to lists that conform to the structure of a respective Attribute. Additionally, as your dataset expands, and KDB/Q is required to maintain a hash table in the background, operations may experience a slowdown since the hash table needs updates whenever a new element is inserted into the list. It is crucial to test your specific use case to determine whether applying an Attribute yields performance benefits. Blindly applying Attributes is discouraged.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="attributes-in-the-kdb-tick-stack">Attributes in the KDB-Tick Stack<a href="#attributes-in-the-kdb-tick-stack" class="hash-link" aria-label="Direct link to Attributes in the KDB-Tick Stack" title="Direct link to Attributes in the KDB-Tick Stack">​</a></h2>
<p>So far we have we have covered quite a bit of theoretical knowledge about Attributes with some basic applications on simple lists or tables. However, as a KDB/Q developer our task is to build large, efficient systems, that go far beyond the application of simple lists. Let&#x27;s direct our attention to the KDB/Q Tick setup, exploring where Attributes should be applied and identifying the most suitable Attribute for each of the processes.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>To revisit your understanding of the KDB/Q Tick setup, you can review my earlier post available <a href="https://www.defconq.tech/docs/architecture/plain" target="_blank" rel="noopener noreferrer">here</a></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="attributes-and-the-tickerplant">Attributes and the Tickerplant<a href="#attributes-and-the-tickerplant" class="hash-link" aria-label="Direct link to Attributes and the Tickerplant" title="Direct link to Attributes and the Tickerplant">​</a></h3>
<p>In any KDB/Q Tick setup, the central component is the Tickerplant. Despite the fact that this process stores minimal or no data in memory (and, if it does, it&#x27;s only for a brief duration), it remains crucial to apply the <strong>sorted</strong> Attribute to the <code>time</code> column and the <strong>grouped</strong> Attribute to the <code>sym</code> column of each table in the schemas held in memory. This practice is of upmost importance. When a real-time subscriber connects to the Tickerplant, it receives an empty schema for each table it subscribes to. Upon initializing these schemas, the Tickerplant&#x27;s Attributes are retained within the schemas of the real-time subscriber.</p>
<p>Despite the fact that the Tickerplant receives real-time data in chronological order, it is crucial for us to apply the <strong>sorted</strong> Attribute to the <code>time</code> column of each process. As a reminder, applying the sorted Attribute to a list in KDB/Q changes the linear search algorithm to a binary search, resulting in a substantial enhancement in the performance of search queries.</p>
<p>The second Attribute we implement in the table schemas of our Tickerplant is the <strong>grouped</strong> Attribute. Considering the scattered structure of the data we capture, it is logical to apply the <strong>grouped</strong> Attribute to the <code>sym</code> column of our tables. Unlike other Attributes, the <strong>grouped</strong> Attribute doesn&#x27;t demand a specific structure for our lists and remains intact when adding new items to the list. Again, this Attribute will be retained in the schemas of every real-time subscriber that subscribes to the tables of the Tickerplant.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="real-time-database-rdb-and-other-real-time-subscribers-rts">Real-time Database (RDB) and other Real-Time Subscribers (RTS)<a href="#real-time-database-rdb-and-other-real-time-subscribers-rts" class="hash-link" aria-label="Direct link to Real-time Database (RDB) and other Real-Time Subscribers (RTS)" title="Direct link to Real-time Database (RDB) and other Real-Time Subscribers (RTS)">​</a></h3>
<p>As previously mentioned, the Real-time Database, along with any other Real-time Subscriber connected to the Tickerplant, will automatically adopt the Attributes applied to the table schemas in the Tickerplant. This results in the <strong>sorted</strong> Attribute being applied to the <code>time</code> column of our tables, and the <strong>grouped</strong> Attribute being applied to the <code>sym</code> column. Considering the scattered nature of the symbols in our data, any Attribute other than the <strong>grouped</strong> Attribute would be impractical. Applying the <strong>parted</strong> Attribute, for instance, would result in losing the Attribute as soon as the second message is received, as the <strong>parted</strong> Attribute does not persist through updates. Additionally, achieving a parted structure would require sorting the data by symbol after every update, which, given the typical volume of real-time data, would be time-consuming and render the Real-Time Database pretty much useless.</p>
<p>While it is possible to apply more than one <strong>grouped</strong> Attribute to a table—such as using the <strong>grouped</strong> Attribute on the <code>sym</code> column and another <strong>grouped</strong> Attribute on the <code>exchange</code> column—I would generally discourage this practice. Primarily, the memory overhead significantly increases with each additional <strong>grouped</strong> Attribute, as the <strong>grouped</strong> Attribute incurs the highest memory cost. Moreover, as your dataset expands, the time required to update the hash table maintained by KDB/Q for each <strong>grouped</strong> Attribute becomes increasingly expensive.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="attributes-and-the-historical-database-hdb">Attributes and the Historical Database (HDB)<a href="#attributes-and-the-historical-database-hdb" class="hash-link" aria-label="Direct link to Attributes and the Historical Database (HDB)" title="Direct link to Attributes and the Historical Database (HDB)">​</a></h3>
<p>The final process we examine is our Historical Database (HDB). Once intraday data is stored on disk, it typically remains unaltered, with no new data appended. Consequently, we can sort our data before saving it to disk and apply the <strong>parted</strong> Attribute to the <code>sym</code> column without concern about losing the Attribute during updates.</p>
<p>As the data remains static after being stored on disk, applying extra <strong>grouped</strong> Attributes to columns other than the <code>sym</code> poses little to no concern about performance impact as the hash table maintained by KDB/Q is only updates once, specifically during Attribute creation. Additionally, the ample disk memory available compared to process memory eliminates worries about the memory overhead associated with the <strong>grouped</strong> Attribute.</p>
<p>You might be curious about why we would apply multiple <strong>grouped</strong> Attributes to a table. In the evaluation of the where clause in a q-sql statement, once the first column is employed to narrow down the search, any subsequent Attributes on the remaining columns are disregarded, and a linear search is used for all remaining columns. Since we may not always know all the use cases of our users&#x27; q-sql queries, and they might not necessarily want to query the <code>sym</code> column as the first column, applying the <strong>grouped</strong> Attribute to several columns ensures a performance improvement regardless of the column our users choose to query.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="attributes-and-joins">Attributes and Joins<a href="#attributes-and-joins" class="hash-link" aria-label="Direct link to Attributes and Joins" title="Direct link to Attributes and Joins">​</a></h2>
<p>The main motivation for applying Attributes is to increase the efficiency and performance of search operations. One operation KDB/Q is particularly famous for are joins, asof and window joins to be more specific. During a join operation, one table&#x27;s column needs to be searched and matched with the keys of the columns in the table to be matched. This scenario is a perfect use case for our Attributes, as they substantially boost the performance of join operations.</p>
<p>When executing an <code>asof or window join</code> on in-memory tables, it is crucial to ensure that the <strong>grouped</strong> Attribute is applied to the <code>sym</code> column. Conversely, when conducting a join on data that has been persisted to disk, the <strong>parted</strong> Attribute enhances the performance of the join operation.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can read everything about joins <a href="https://code.kx.com/q4m3/9_Queries_q-sql/#99-joins" target="_blank" rel="noopener noreferrer">here</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="special-application-of-attributes">Special Application of Attributes<a href="#special-application-of-attributes" class="hash-link" aria-label="Direct link to Special Application of Attributes" title="Direct link to Special Application of Attributes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-dictionary">Step Dictionary<a href="#step-dictionary" class="hash-link" aria-label="Direct link to Step Dictionary" title="Direct link to Step Dictionary">​</a></h3>
<p>A special use case of the <strong>sorted</strong> Attribute is when you apply the <strong>sorted</strong> Attribute to the keys of a dictionary, essentially creating a step dictionary. This modified dictionary now functions as a step function, enabling you to index into it with a key that may not be present, and it will return the value associated with the key immediately preceding the one you provided. Let me illustrate this with an example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// We first create a dictionary without the sorted Attribute applied</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)d:0 1 5 10 15!`A`B`C`D`E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0 | A</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 | B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 | C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10| D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15| E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// If we now index into this dictionary with a key that doesn&#x27;t exists, you will see the null symbol is returned </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)d 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Now let&#x27;s apply the sorted Attribute to the dictionary, creating a step function</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)d:`s#0 1 5 10 15!`A`B`C`D`E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Et voila, using 4 as the index, returns B, the value of the largest index smaller than the index we passed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)d 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Using an existing index works as expected </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)d 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`C</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// One more example of a non existing index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)d 13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`D</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sorted-attribute-on-keyed-tables">Sorted Attribute on Keyed Tables<a href="#sorted-attribute-on-keyed-tables" class="hash-link" aria-label="Direct link to Sorted Attribute on Keyed Tables" title="Direct link to Sorted Attribute on Keyed Tables">​</a></h3>
<p>The notion of a step dictionary functions identically for a keyed table. Applying the <strong>sorted</strong> Attribute to a keyed table results in the same step function behavior as observed in a step dictionary. For those interested in understanding, this similarity arises because a keyed table is essentially a dictionary composed of two simple tables. Let&#x27;s delve into this explanation.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create two simple tables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show t1:([] a:0 1 5 10 15)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show t2:([] b:5?`3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bgh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ifn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kdj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eeg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a keyed table as dictionary of two simple tables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show kt:t1!t2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a | b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--| ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0 | bgh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 | ifn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 | foh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10| kdj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15| eeg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// verify the type of kt to show that it&#x27;s effectively a dictionary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)type kt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">99h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Index into the keyed table with an existing index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)kt 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| bgh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)kt 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| foh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Index into the keyed table with a non-existing index returns nothing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)kt 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Apply the sorted Attribute to the keyed table to create a step-function behaviour </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)show kts:`s#kt:t1!t2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a | b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--| ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0 | bgh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 | ifn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5 | foh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10| kdj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">15| eeg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)meta kts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c| t f a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-| -----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a| j   s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Index into the keyed table with an existing index</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)kts 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| bgh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Indexing into the keyed table with a non-existing index will now return a result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)kts 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| ifn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)kts 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b| kdj</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>In this post, we took a deep dive into a comprehensive understanding of Attributes, explaining their functionality, application to both simple lists and tables, and the impact of operations on them. We then explored their strategic utilization within a KDB/Q Tick system, emphasizing the importance of <strong>sorted</strong>,<strong>grouped</strong> and <strong>parted</strong> Attributes in enhancing performance. Concluding our exploration, we highlighted two special use cases showcasing the versatility of the <strong>sorted</strong> Attribute in creating step-function dictionaries and keyed tables. This comprehensive overview equips developers with a nuanced understanding of Attributes and their optimal integration into KDB/Q systems.</p>
<p><strong>Reference</strong>:</p>
<ol>
<li><a href="https://code.kx.com/q4m3/8_Tables/#88-attributes" target="_blank" rel="noopener noreferrer">Q For Mortals</a> by Jeffry A. Borror</li>
<li><a href="https://code.kx.com/q/ref/set-attribute/" target="_blank" rel="noopener noreferrer">KDB/Q Reference Card - Set Attribute</a></li>
<li><a href="https://amzn.to/40a01Hv" target="_blank" rel="noopener noreferrer">Q Tips</a> by Nick Psaris</li>
<li><a href="https://code.kx.com/q/wp/data-management/" target="_blank" rel="noopener noreferrer">Data Management Whitepaper</a> by Simon Mescal, KX</li>
<li><a href="https://dataintellect.com/blog/adventure-in-retrieving-memory-size-of-kdb-object/" target="_blank" rel="noopener noreferrer">Adventure in retrieving memory size of KDB+ Object</a> by Data Intellect</li>
</ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/important-concepts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Important Concepts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/concepts/memoryManagement"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Memory Management</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-are-attributes" class="table-of-contents__link toc-highlight">What are Attributes</a><ul><li><a href="#sorted-s" class="table-of-contents__link toc-highlight">Sorted (<code>`s#</code>)</a></li><li><a href="#unique-u" class="table-of-contents__link toc-highlight">Unique (<code>`u#</code>)</a></li><li><a href="#parted-p" class="table-of-contents__link toc-highlight">Parted (<code>`p#</code>)</a></li><li><a href="#grouped-g" class="table-of-contents__link toc-highlight">Grouped (<code>`g#</code>)</a></li></ul></li><li><a href="#applying-attributes" class="table-of-contents__link toc-highlight">Applying Attributes</a></li><li><a href="#removing-attributes" class="table-of-contents__link toc-highlight">Removing Attributes</a></li><li><a href="#applying-attributes-to-table-columns" class="table-of-contents__link toc-highlight">Applying Attributes to table columns</a></li><li><a href="#operations-on-lists-with-attributes" class="table-of-contents__link toc-highlight">Operations on lists with Attributes</a><ul><li><a href="#operations-on-attributes-in-memory" class="table-of-contents__link toc-highlight">Operations on Attributes in Memory</a><ul><li><a href="#sorted-lists" class="table-of-contents__link toc-highlight">Sorted Lists</a></li><li><a href="#unique-lists" class="table-of-contents__link toc-highlight">Unique Lists</a></li><li><a href="#parted-lists" class="table-of-contents__link toc-highlight">Parted Lists</a></li><li><a href="#grouped-lists" class="table-of-contents__link toc-highlight">Grouped Lists</a></li></ul></li><li><a href="#operations-on-attributes-on-disk" class="table-of-contents__link toc-highlight">Operations on Attributes on Disk</a><ul><li><a href="#sorted-lists-on-disk" class="table-of-contents__link toc-highlight">Sorted Lists on Disk</a></li></ul></li></ul></li><li><a href="#memory-overhead-of-attributes" class="table-of-contents__link toc-highlight">Memory Overhead of Attributes</a></li><li><a href="#when-to-use-attributes" class="table-of-contents__link toc-highlight">When to use Attributes</a></li><li><a href="#attributes-in-the-kdb-tick-stack" class="table-of-contents__link toc-highlight">Attributes in the KDB-Tick Stack</a><ul><li><a href="#attributes-and-the-tickerplant" class="table-of-contents__link toc-highlight">Attributes and the Tickerplant</a></li><li><a href="#real-time-database-rdb-and-other-real-time-subscribers-rts" class="table-of-contents__link toc-highlight">Real-time Database (RDB) and other Real-Time Subscribers (RTS)</a></li><li><a href="#attributes-and-the-historical-database-hdb" class="table-of-contents__link toc-highlight">Attributes and the Historical Database (HDB)</a></li></ul></li><li><a href="#attributes-and-joins" class="table-of-contents__link toc-highlight">Attributes and Joins</a></li><li><a href="#special-application-of-attributes" class="table-of-contents__link toc-highlight">Special Application of Attributes</a><ul><li><a href="#step-dictionary" class="table-of-contents__link toc-highlight">Step Dictionary</a></li><li><a href="#sorted-attribute-on-keyed-tables" class="table-of-contents__link toc-highlight">Sorted Attribute on Keyed Tables</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Learn</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/defconq/" target="_blank" rel="noopener noreferrer" class="footer__link-item">DefconQ Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/alexanderunterrainer/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Alexander Unterrainer Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://defconq.myspreadshop.co.uk" target="_blank" rel="noopener noreferrer" class="footer__link-item">DefconQ Swag<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://www.youtube.com/@DefconQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://defconq.substack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/DefconQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DefconQ Ltd. This website is maintained by Alexander Unterrainer. Disclaimer: All content shared on this website reflect solely his personal thoughts and opinions, and is not representative of any past, current, or future employers or affiliations.</div></div></div></footer></div>
</body>
</html>