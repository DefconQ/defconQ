<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/realTimeStocks" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">A Real Time Stock Market Feed | DefconQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://DefconQ.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://DefconQ.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://DefconQ.github.io/docs/tutorials/realTimeStocks"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="A Real Time Stock Market Feed | DefconQ"><meta data-rh="true" name="description" content="In this tutorial, we&#x27;ll walk through building a real-time stock market data feed and streaming that data into a simplified KDB/Q Tick architecture. We&#x27;ll use Python, specifically the yfinance library, to fetch live market data from Yahoo Finance, and then publish it to a custom KDB/Q Tickerplant (TP), which will forward the data to a Real-Time Database (RDB). We&#x27;ll use the qpython library to connect our Feedhandler to the Tickerplant, enabling us to stream real-time data for further processing."><meta data-rh="true" property="og:description" content="In this tutorial, we&#x27;ll walk through building a real-time stock market data feed and streaming that data into a simplified KDB/Q Tick architecture. We&#x27;ll use Python, specifically the yfinance library, to fetch live market data from Yahoo Finance, and then publish it to a custom KDB/Q Tickerplant (TP), which will forward the data to a Real-Time Database (RDB). We&#x27;ll use the qpython library to connect our Feedhandler to the Tickerplant, enabling us to stream real-time data for further processing."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://DefconQ.github.io/docs/tutorials/realTimeStocks"><link data-rh="true" rel="alternate" href="https://DefconQ.github.io/docs/tutorials/realTimeStocks" hreflang="en"><link data-rh="true" rel="alternate" href="https://DefconQ.github.io/docs/tutorials/realTimeStocks" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://R6JV2N50EX-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DefconQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DefconQ Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E9ED09HNE3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E9ED09HNE3",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="DefconQ" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.5860f28a.css">
<script src="/assets/js/runtime~main.ce87681d.js" defer="defer"></script>
<script src="/assets/js/main.20895a3d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#74e8a3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Stay up to date with the latest blogs posts - subscribe to my free Substack newsletter now <a href="https://defconq.substack.com">Free Substack Newsletter</a> or follow me on <a href="https://medium.com/@defconq">Medium</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="DefconQ Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="150" width="50"><img src="/img/logoLight.svg" alt="DefconQ Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="150" width="50"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Learn</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/about/about">About</a><a class="navbar__item navbar__link" href="/testimonials/testimonials">Testimonials</a><a class="navbar__item navbar__link" href="/happyHour/happyHour">Happy Hour</a><a class="navbar__item navbar__link" href="/cv/cv">CV</a><a href="https://defconq.substack.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Substack Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://medium.com/@defconq" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://defconq.myspreadshop.co.uk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Swag<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/DefconQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdbq-study-roadmap">KDB/Q Study Roadmap</a><button aria-label="Expand sidebar category &#x27;KDB/Q Study Roadmap&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdbq-language">KDB/Q Language</a><button aria-label="Expand sidebar category &#x27;KDB/Q Language&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdbq-architecture">KDB/Q Architecture</a><button aria-label="Expand sidebar category &#x27;KDB/Q Architecture&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/important-concepts">Important Concepts</a><button aria-label="Expand sidebar category &#x27;Important Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/design-patterns-for-kdbq-systems">Design Patterns for KDB/Q Systems</a><button aria-label="Expand sidebar category &#x27;Design Patterns for KDB/Q Systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/tutorials">Tutorials</a><button aria-label="Collapse sidebar category &#x27;Tutorials&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tick">KDB Tick Explained: A Walkthrough [PART 1]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/tick2">KDB Tick Explained: A Walkthrough [PART 2]</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/realTimeStocks">A Real Time Stock Market Feed</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/researchHDB">Back to the Future: Building Your Research HDB for Stock Market Insights</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/realTimeStocksUpdate">Streaming Smarter: Real-Time Market Data with Kola, Python, and Databento</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/productivity-tools">Productivity Tools</a><button aria-label="Expand sidebar category &#x27;Productivity Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/tutorials"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">A Real Time Stock Market Feed</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>A Real Time Stock Market Feed</h1>
<p>In this tutorial, we&#x27;ll walk through building a real-time stock market data feed and streaming that data into a simplified KDB/Q Tick architecture. We&#x27;ll use Python, specifically the <a href="https://github.com/ranaroussi/yfinance" target="_blank" rel="noopener noreferrer"><code>yfinance</code></a> library, to fetch live market data from Yahoo Finance, and then publish it to a custom KDB/Q Tickerplant (TP), which will forward the data to a Real-Time Database (RDB). We&#x27;ll use the <a href="https://github.com/exxeleron/qPython/tree/master" target="_blank" rel="noopener noreferrer"><code>qpython</code></a> library to connect our Feedhandler to the Tickerplant, enabling us to stream real-time data for further processing.</p>
<p>While this setup has been simplified for educational purposes, it can be easily adapted to resemble a more production-ready environment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="who-is-this-tutorial-for">Who is this tutorial for?<a href="#who-is-this-tutorial-for" class="hash-link" aria-label="Direct link to Who is this tutorial for?" title="Direct link to Who is this tutorial for?">​</a></h2>
<p>This tutorial is designed for anyone interested in building a real-time stock market data application. Whether you&#x27;re a KDB/Q developer curious about the technical implementation, or a quantitative developer or researcher looking to set up a live data feed for analytics and strategy development, this guide is for you.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>To get the most out of this tutorial, you should have a solid understanding of the KDB/Q Tick architecture. If you&#x27;re unfamiliar with it, please check out <a href="https://www.defconq.tech/docs/architecture/plain" target="_blank" rel="noopener noreferrer">this dedicated blog post</a>. Additionally, a good understanding of how the Tickerplant works will be helpful, and I recommend reviewing my two in-depth tutorials that walk through the Plain Vanilla Tickerplant code line by line, which you can find <a href="https://www.defconq.tech/docs/tutorials/tick" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-in-it-for-you-skills-youll-master-in-this-tutorial">What’s in It for You: Skills You’ll Master in This Tutorial<a href="#whats-in-it-for-you-skills-youll-master-in-this-tutorial" class="hash-link" aria-label="Direct link to What’s in It for You: Skills You’ll Master in This Tutorial" title="Direct link to What’s in It for You: Skills You’ll Master in This Tutorial">​</a></h2>
<p>In this tutorial, you’ll learn how to build a simple yet powerful real-time stock data streaming application. Along the way, you’ll get hands-on with the plain vanilla Tick architecture and deepen your understanding of key KDB/Q concepts like dictionaries, tables, attributes, and interprocess communication. You’ll also explore how to work with various Python libraries and establish seamless connectivity between Python and KDB/Q.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="under-the-hood-the-minimalist-tech-stack-powering-it-all">Under the Hood: The Minimalist Tech Stack Powering It All<a href="#under-the-hood-the-minimalist-tech-stack-powering-it-all" class="hash-link" aria-label="Direct link to Under the Hood: The Minimalist Tech Stack Powering It All" title="Direct link to Under the Hood: The Minimalist Tech Stack Powering It All">​</a></h2>
<p>The tech stack behind this application is intentionally lightweight and focused, using just two core technologies.</p>
<p>On the Python side, we use:</p>
<ul>
<li><a href="https://github.com/ranaroussi/yfinance" target="_blank" rel="noopener noreferrer"><code>yfinance</code></a> to fetch real-time stock market data from Yahoo Finance</li>
<li><a href="https://github.com/exxeleron/qPython/tree/master" target="_blank" rel="noopener noreferrer"><code>qpython</code></a> to connect Python to KDB/Q and stream data in real time</li>
</ul>
<p>And of course, the backbone of the setup is KDB/Q. We’ll build a streamlined Tickerplant and a real-time database using the simple tick library provided by KX.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-setup">The Setup<a href="#the-setup" class="hash-link" aria-label="Direct link to The Setup" title="Direct link to The Setup">​</a></h2>
<p><img decoding="async" loading="lazy" alt="KDB/Q Real Time Stock Feed" src="/assets/images/RealTimeFeed-249b136d5af7dfd2466b60a2e5b5b695.png" width="741" height="511" class="img_ev3q"></p>
<p>The architecture of this application is fairly simple and consists of three main components:</p>
<ul>
<li>A Python-based Feedhandler that retrieves real-time stock data from Yahoo Finance and streams it to a KDB/Q Tickerplant</li>
<li>A custom KDB/Q Tickerplant that ingests the data and forwards it to the Real-Time Database (RDB)</li>
<li>A Real-Time Database that stores all intraday data in memory</li>
</ul>
<p>In the following section, we’ll take a closer look at each component of the setup, highlighting their key features and roles.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="feedhandler">Feedhandler<a href="#feedhandler" class="hash-link" aria-label="Direct link to Feedhandler" title="Direct link to Feedhandler">​</a></h3>
<p>As expected, the Python script for the Feedhandler is by far the longest, bringing to life the common joke: <em><strong>“For every line of KDB/Q, you’ll need at least 10 in a mainstream language like Python or Java.”</strong></em>. Having worked almost exclusively with KDB/Q over the past decade, my Python skills are admittedly non existent and my friend Claude had to save the day. While LLMs still struggle to make sense of KDB/Q, thankfully they’re fluent in Python. After a few back-and-forths, Claude managed to crank out a fully functioning Feedhandler.</p>
<p>The Feedhandler uses the <a href="https://github.com/ranaroussi/yfinance" target="_blank" rel="noopener noreferrer"><code>yfinance</code></a> library to pull real-time stock market data from Yahoo Finance. You can specify which tickers you&#x27;d like to track by listing them in a CSV file, which the script reads on startup.</p>
<p>Due to rate limits imposed by Yahoo Finance, the script fetches data at 30-second intervals by default. This interval is configurable via a command-line argument or an environment variable.</p>
<p>To stream data from Python to KDB/Q, we use the <a href="https://github.com/exxeleron/qPython/tree/master" target="_blank" rel="noopener noreferrer"><code>qpython</code></a> library. While <a href="https://code.kx.com/pykx/3.1/" target="_blank" rel="noopener noreferrer"><strong>PyKX</strong></a> would be a more modern alternative, it’s currently only available under a <a href="https://code.kx.com/insights/1.13/enterprise/index.html" target="_blank" rel="noopener noreferrer"><strong>KX Insights</strong></a> license, so for broader accessibility, we’ve opted for <code>qpython</code>. Since the library is a bit dated, there’s a minor workaround needed when working with <code>numpy</code>, but otherwise, the script is fairly straightforward and easy to follow.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tickerscsv-your-command-center-for-stock-selection"><code>tickers.csv</code>: Your Command Center for Stock Selection<a href="#tickerscsv-your-command-center-for-stock-selection" class="hash-link" aria-label="Direct link to tickerscsv-your-command-center-for-stock-selection" title="Direct link to tickerscsv-your-command-center-for-stock-selection">​</a></h3>
<p>To keep our application flexible and easy to configure, we use a simple CSV file, <code>tickers.csv</code>, to define the list of stocks we want to track. Just add the relevant stock tickers to this file, and the Feedhandler will take it from there. This approach lets you quickly adjust your data feed without touching the code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-schema-and-symq-file">Table Schema and <code>sym.q</code> File<a href="#table-schema-and-symq-file" class="hash-link" aria-label="Direct link to table-schema-and-symq-file" title="Direct link to table-schema-and-symq-file">​</a></h3>
<p>Before we dive into the Tickerplant code, let’s take a moment to review the table schema for the data we’re capturing. As you might recall (especially if you’ve read my <a href="https://www.defconq.tech/docs/tutorials/tick" target="_blank" rel="noopener noreferrer">Tickerplant walkthrough</a>), table schemas are stored in the <code>sym.q</code> file, which the Tickerplant loads during initialization.</p>
<p>For this exercise, we’ve defined the schema as follows:</p>
<ul>
<li><code>time</code>			: timestamp recorded by the Tickerplant</li>
<li><code>sym</code>				: ticker symbol of the stock</li>
<li><code>feedHandlerTime</code>		: timestamp from the Feedhandler</li>
<li><code>open, high, low, close</code>	: OHLC price data</li>
<li><code>volume</code>			: trading volume</li>
<li><code>bid, ask</code>			: bid and ask prices</li>
<li><code>bidSize, askSize</code>		: sizes at the bid and ask</li>
</ul>
<p><strong>A quick note</strong>: we&#x27;re capturing both the Tickerplant and Feedhandler timestamps. While this might not be critical in our educational example, it’s a best practice in real-time systems—especially when you want to measure latency between data ingestion points. To reinforce good KDB/Q practices, we apply the <strong>sorted</strong> <code>s</code> attribute to the <code>time</code> column and the <code>grouped</code> attribute to the <code>sym</code> column. If you&#x27;re not familiar with attributes, or could use a refresher on how they work and why they matter, check out my dedicated post <a href="https://www.defconq.tech/docs/concepts/attributes" target="_blank" rel="noopener noreferrer">here</a></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stocks:([] time:`s#`timestamp$(); `g#sym:`symbol$(); feedHandlerTime:`timestamp$(); open: `float$(); high:`float$(); low:`float$(); close:`float$(); volume:`int$(); bid:`float$(); ask:`float$(); bidSize:`int$(); askSize:`int$() )</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tickerplant-tp">Tickerplant (TP)<a href="#tickerplant-tp" class="hash-link" aria-label="Direct link to Tickerplant (TP)" title="Direct link to Tickerplant (TP)">​</a></h3>
<p>The Tickerplant used in this setup is an even more lightweight version than the one featured in our <a href="https://www.defconq.tech/docs/tutorials/tick" target="_blank" rel="noopener noreferrer">Plain Vanilla Tick Setup walkthrough</a>. Since we&#x27;re only fetching data every 30 seconds, there&#x27;s no need to process each tick individually, instead, we&#x27;ll run the Tickerplant in batch mode, publishing data on a pre-defined interval.</p>
<p>We&#x27;ve also made a few tweaks to the <code>.u.upd</code> function to accommodate the structure of the incoming data. To understand how it works, we&#x27;ll set a breakpoint in <code>.u.upd</code>, inspect the incoming messages, and step through the logic together.</p>
<p>The section we&#x27;re focusing on is shown below. We’ll start the Tickerplant <em><strong>without</strong></em> specifying a batch interval, which means the execution path will hit the <code>.u.upd</code> function defined here. At this point, we can set a breakpoint using <code>&#x27;break</code> to pause execution and inspect the incoming data when the function is triggered.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if[not system&quot;t&quot;;system&quot;t 1000&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> .z.ts:{ts .z.D};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> upd:{[t;x]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ts&quot;d&quot;$a:.z.P;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if[not -16=type first first x;a:&quot;n&quot;$a;x:$[0&gt;type first x;a,x;(enlist(count first x)#a),x]];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> f:key flip value t;pub[`$t;$[0&gt;type first x;enlist f!x;update `$sym,&quot;P&quot;$feedHandlerTimer from flip f!flip x:a,&#x27;x]];if[l;l enlist (`upd;t;x);i+:1];}];</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>To trigger a breakpoint, you can use the <a href="https://code.kx.com/q/ref/signal/" target="_blank" rel="noopener noreferrer">signal</a> operator <code>&#x27;</code> with any custom error message and are not limited to using <code>break</code> as I did.</p></div></div>
<p>After saving our changes, we launch the Tickerplant with the command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">qq tick.q sym . -p 5010</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once the Tickerplant is up and running, be sure to set the <a href="https://code.kx.com/q/basics/cmdline/#-e-error-traps" target="_blank" rel="noopener noreferrer"><code>\e</code></a> flag to <code>1</code> (true). This enables error trapping mode, allowing us to inspect the internal state and debug more effectively.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alexanderunterrainer@Mac:~/repos/yfinData|⇒  qq tick.q sym . -p 5010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KDB+ 4.1 2025.02.18 Copyright (C) 1993-2025 Kx Systems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m64/ 8(24)core 24576MB alexanderunterrainer mac 192.168.1.177 EXPIRE 2026.03.11 KDB PLUS PERSONAL #5024911</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q).u.upd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{[t;x]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ts&quot;d&quot;$a:.z.P;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if[not -16=type first first x;a:&quot;n&quot;$a;x:$[0&gt;type first x;a,x;(enlist(count first x)#a),x]];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> f:key flip value t;pub[`$t;$[0&gt;type first x;enlist f!x;update `$sym,&quot;P&quot;$feedHandlerTimer from flip f!flip x:a,&#x27;x]];if[l;l enlist (`upd;t;x);i+:1];}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)\e 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)\e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now let’s fire up the Python Feedhandler and watch the magic happen as our code <em><strong>&quot;breaks&quot;</strong></em> precisely where we intended.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)&#x27;break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [0]  /Users/alexanderunterrainer/repos/yfinData/tick.q:45: .u.upd:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ts&quot;d&quot;$a:.z.P;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if[not -16=type first first x;a:&quot;n&quot;$a;x:$[0&gt;type first x;a,x;(enlist(count first x)#a),x]];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Based on our function definition, we know that <code>.u.upd</code> accepts two arguments: <code>t</code>, the table name, and <code>x</code>, the data to be streamed to all real-time subscribers. Let’s take a closer look at the data being received.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)&#x27;break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [0]  /Users/alexanderunterrainer/repos/yfinData/tick.q:45: .u.upd:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ts&quot;d&quot;$a:.z.P;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if[not -16=type first first x;a:&quot;n&quot;$a;x:$[0&gt;type first x;a,x;(enlist(count first x)#a),x]];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;stocks&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;AMZN&quot;  &quot;2025.05.18D10:22:20.279&quot; 206.85 206.85 204.37 205.59 43072700  205.49 205.77 3  3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;GOOGL&quot; &quot;2025.05.18D10:22:20.279&quot; 167.73 169.35 165.62 166.19 42650100  166.14 166.26 7  7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;HD&quot;    &quot;2025.05.18D10:22:20.279&quot; 380.23 381.17 378.15 380.78 3127300   377.36 379.6  8  8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;JNJ&quot;   &quot;2025.05.18D10:22:20.279&quot; 149.67 151.5  149.22 151.33 8046000   151.1  151.1  8  9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;JPM&quot;   &quot;2025.05.18D10:22:20.279&quot; 267.5  268.46 264.71 267.56 8925900   264.5  266.01 12 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;MA&quot;    &quot;2025.05.18D10:22:20.279&quot; 580.43 584.29 580.43 583.28 2225400   578.78 584.29 11 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;META&quot;  &quot;2025.05.18D10:22:20.279&quot; 637.96 640.44 626.15 640.34 18405900  639.55 640.95 1  1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;MSFT&quot;  &quot;2025.05.18D10:22:20.279&quot; 452.05 454.36 448.73 454.27 23803400  443.32 454.45 1  2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;NVDA&quot;  &quot;2025.05.18D10:22:20.279&quot; 136.22 136.35 133.46 135.4  222651500 126.78 137f   1  2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;PG&quot;    &quot;2025.05.18D10:22:20.279&quot; 162.65 163.43 161.85 163.28 7100200   163.17 163.49 9  8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;TSLA&quot;  &quot;2025.05.18D10:22:20.279&quot; 346.24 351.62 342.33 349.98 93811800  328.7  363.64 1  1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;UNH&quot;   &quot;2025.05.18D10:22:20.279&quot; 279.29 294.49 269.14 291.91 70637700  287.57 287.7  8  14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;V&quot;     &quot;2025.05.18D10:22:20.279&quot; 362.95 366.19 360.89 365.12 5836500   363.55 365.25 8  9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;WMT&quot;   &quot;2025.05.18D10:22:20.279&quot; 96.14  99.19  96f    98.24  33708300  96.51  97.78  13 22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))type x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))type first x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">0h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))first x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;AMZN&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;2025.05.18D10:22:20.279&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">206.85</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">206.85</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">204.37</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">205.59</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43072700</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">205.49</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">205.77</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As shown above, the data sent by the Feedhandler is a mixed list of mixed lists. We can verify this by applying the <a href="https://code.kx.com/q/ref/type/" target="_blank" rel="noopener noreferrer"><code>type</code></a> operator to the entire dataset as well as to its first element, both return <code>0h</code>, indicating a mixed list.</p>
<p>Since our table schema includes a Tickerplant timestamp, the first step is to prepend this timestamp to each row of incoming data. Here&#x27;s how we can do that:</p>
<p>From the first line of our <code>.u.upd</code> function, we know that the current timestamp, retrieved using <code>.z.P</code>, s stored in the variable <code>a</code>. We can now use this variable to append the timestamp to each record in the mixed list. To do this, we use the <a href="https://www.defconq.tech/docs/concepts/iterators#binary-opplication-of-each" target="_blank" rel="noopener noreferrer"><strong>each-both</strong></a> <code>&#x27;</code> iterator along with the concatenate operator <code>,</code>. Thanks to atomic extension, and the fact that we’re adding the <strong>same</strong> timestamp to every record, we can simply use a single timestamp atom, rather than generating a list of timestamps matching the length of our dataset.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q.u))a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))a,&#x27;x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;AMZN&quot;  &quot;2025.05.18D10:22:20.279&quot; 206.85 206.85 204.37 205.59 43072700  205.49 205.77 3  3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;GOOGL&quot; &quot;2025.05.18D10:22:20.279&quot; 167.73 169.35 165.62 166.19 42650100  166.14 166.26 7  7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;HD&quot;    &quot;2025.05.18D10:22:20.279&quot; 380.23 381.17 378.15 380.78 3127300   377.36 379.6  8  8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;JNJ&quot;   &quot;2025.05.18D10:22:20.279&quot; 149.67 151.5  149.22 151.33 8046000   151.1  151.1  8  9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;JPM&quot;   &quot;2025.05.18D10:22:20.279&quot; 267.5  268.46 264.71 267.56 8925900   264.5  266.01 12 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;MA&quot;    &quot;2025.05.18D10:22:20.279&quot; 580.43 584.29 580.43 583.28 2225400   578.78 584.29 11 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;META&quot;  &quot;2025.05.18D10:22:20.279&quot; 637.96 640.44 626.15 640.34 18405900  639.55 640.95 1  1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;MSFT&quot;  &quot;2025.05.18D10:22:20.279&quot; 452.05 454.36 448.73 454.27 23803400  443.32 454.45 1  2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;NVDA&quot;  &quot;2025.05.18D10:22:20.279&quot; 136.22 136.35 133.46 135.4  222651500 126.78 137f   1  2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;PG&quot;    &quot;2025.05.18D10:22:20.279&quot; 162.65 163.43 161.85 163.28 7100200   163.17 163.49 9  8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;TSLA&quot;  &quot;2025.05.18D10:22:20.279&quot; 346.24 351.62 342.33 349.98 93811800  328.7  363.64 1  1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;UNH&quot;   &quot;2025.05.18D10:22:20.279&quot; 279.29 294.49 269.14 291.91 70637700  287.57 287.7  8  14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;V&quot;     &quot;2025.05.18D10:22:20.279&quot; 362.95 366.19 360.89 365.12 5836500   363.55 365.25 8  9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;WMT&quot;   &quot;2025.05.18D10:22:20.279&quot; 96.14  99.19  96f    98.24  33708300  96.51  97.78  13 22</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With all the necessary data in place, the final step is to transform it into a proper KDB/Q table:</p>
<p>We start by transposing the dataset using the <a href="https://code.kx.com/q/ref/flip/" target="_blank" rel="noopener noreferrer"><code>flip</code></a> operator. This restructures the mixed list so that each inner list now represents a column: the first list contains the Tickerplant timestamps, the second is a list of ticker symbols (as character strings), the third holds the Feedhandler timestamps, followed by lists of price data, volume, bid/ask prices, and sizes.</p>
<p>Next, we use this transposed structure to build a column dictionary, aligning each list with the corresponding column name from our stock table schema defined in <code>sym.q</code>, which the Tickerplant loads during initialization. From there, it’s simple: a KDB/Q table is just a flipped column dictionary. So all that remains is one final <code>flip</code> to produce the fully structured stock data table.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you need a refresher on KDB/Q dictionaries or tables, and how to create, update, or manipulate them, check out my post <a href="https://www.defconq.tech/docs/concepts/dictionariesTables" target="_blank" rel="noopener noreferrer">here</a></p></div></div>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q.u))flip a,&#x27;x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;AMZN&quot;                        &quot;GOOGL&quot;                       &quot;HD&quot;                          &quot;JNJ&quot;                         &quot;JPM&quot;                         &quot;MA&quot;                          &quot;META&quot;                        &quot;MSFT&quot;                       ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;    ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">206.85                        167.73                        380.23                        149.67                        267.5                         580.43                        637.96                        452.05                       ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">206.85                        169.35                        381.17                        151.5                         268.46                        584.29                        640.44                        454.36                       ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">204.37                        165.62                        378.15                        149.22                        264.71                        580.43                        626.15                        448.73                       ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">205.59                        166.19                        380.78                        151.33                        267.56                        583.28                        640.34                        454.27                       ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">43072700                      42650100                      3127300                       8046000                       8925900                       2225400                       18405900                      23803400                     ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">205.49                        166.14                        377.36                        151.1                         264.5                         578.78                        639.55                        443.32                       ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">205.77                        166.26                        379.6                         151.1                         266.01                        584.29                        640.95                        454.45                       ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3                             7                             8                             8                             12                            11                            1                             1                            ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3                             7                             8                             9                             8                             8                             1                             2                            ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))`time`sym`feedHandlerTime`open`high`low`close`volume`bid`ask`bidSize`askSize!flip a,&#x27;x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time           | 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D10:22:23.548140000 2025.05.18D1..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sym            | &quot;AMZN&quot;                        &quot;GOOGL&quot;                       &quot;HD&quot;                          &quot;JNJ&quot;                         &quot;JPM&quot;                         &quot;MA&quot;                          &quot;META&quot;                        &quot;MSFT&quot;      ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feedHandlerTime| &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D10:22:20.279&quot;     &quot;2025.05.18D..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open           | 206.85                        167.73                        380.23                        149.67                        267.5                         580.43                        637.96                        452.05      ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">high           | 206.85                        169.35                        381.17                        151.5                         268.46                        584.29                        640.44                        454.36      ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">low            | 204.37                        165.62                        378.15                        149.22                        264.71                        580.43                        626.15                        448.73      ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">close          | 205.59                        166.19                        380.78                        151.33                        267.56                        583.28                        640.34                        454.27      ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">volume         | 43072700                      42650100                      3127300                       8046000                       8925900                       2225400                       18405900                      23803400    ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bid            | 205.49                        166.14                        377.36                        151.1                         264.5                         578.78                        639.55                        443.32      ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ask            | 205.77                        166.26                        379.6                         151.1                         266.01                        584.29                        640.95                        454.45      ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bidSize        | 3                             7                             8                             8                             12                            11                            1                             1           ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">askSize        | 3                             7                             8                             9                             8                             8                             1                             2           ..</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))flip `time`sym`feedHandlerTime`open`high`low`close`volume`bid`ask`bidSize`askSize!flip a,&#x27;x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time                          sym     feedHandlerTime           open   high   low    close  volume    bid    ask    bidSize askSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----------------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;AMZN&quot;  &quot;2025.05.18D10:22:20.279&quot; 206.85 206.85 204.37 205.59 43072700  205.49 205.77 3       3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;GOOGL&quot; &quot;2025.05.18D10:22:20.279&quot; 167.73 169.35 165.62 166.19 42650100  166.14 166.26 7       7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;HD&quot;    &quot;2025.05.18D10:22:20.279&quot; 380.23 381.17 378.15 380.78 3127300   377.36 379.6  8       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;JNJ&quot;   &quot;2025.05.18D10:22:20.279&quot; 149.67 151.5  149.22 151.33 8046000   151.1  151.1  8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;JPM&quot;   &quot;2025.05.18D10:22:20.279&quot; 267.5  268.46 264.71 267.56 8925900   264.5  266.01 12      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;MA&quot;    &quot;2025.05.18D10:22:20.279&quot; 580.43 584.29 580.43 583.28 2225400   578.78 584.29 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;META&quot;  &quot;2025.05.18D10:22:20.279&quot; 637.96 640.44 626.15 640.34 18405900  639.55 640.95 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;MSFT&quot;  &quot;2025.05.18D10:22:20.279&quot; 452.05 454.36 448.73 454.27 23803400  443.32 454.45 1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;NVDA&quot;  &quot;2025.05.18D10:22:20.279&quot; 136.22 136.35 133.46 135.4  222651500 126.78 137    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;PG&quot;    &quot;2025.05.18D10:22:20.279&quot; 162.65 163.43 161.85 163.28 7100200   163.17 163.49 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;TSLA&quot;  &quot;2025.05.18D10:22:20.279&quot; 346.24 351.62 342.33 349.98 93811800  328.7  363.64 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;UNH&quot;   &quot;2025.05.18D10:22:20.279&quot; 279.29 294.49 269.14 291.91 70637700  287.57 287.7  8       14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;V&quot;     &quot;2025.05.18D10:22:20.279&quot; 362.95 366.19 360.89 365.12 5836500   363.55 365.25 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 &quot;WMT&quot;   &quot;2025.05.18D10:22:20.279&quot; 96.14  99.19  96     98.24  33708300  96.51  97.78  13      22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q.u))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you were paying close attention, you may have noticed that the <code>sym</code> and <code>feedHandlerTime</code> columns are of type <em><strong>string</strong></em> i.e., lists of characters) instead of <em><strong>symbol</strong></em> and <em><strong>timestamp</strong></em>, respectively. Fortunately, we can easily correct this with a simple update statement:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q.u))update `$sym,&quot;P&quot;$feedHandlerTime from flip `time`sym`feedHandlerTime`open`high`low`close`volume`bid`ask`bidSize`askSize!flip a,&#x27;x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time                          sym   feedHandlerTime               open   high   low    close  volume    bid    ask    bidSize askSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------------------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 AMZN  2025.05.18D10:22:20.279000000 206.85 206.85 204.37 205.59 43072700  205.49 205.77 3       3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 GOOGL 2025.05.18D10:22:20.279000000 167.73 169.35 165.62 166.19 42650100  166.14 166.26 7       7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 HD    2025.05.18D10:22:20.279000000 380.23 381.17 378.15 380.78 3127300   377.36 379.6  8       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 JNJ   2025.05.18D10:22:20.279000000 149.67 151.5  149.22 151.33 8046000   151.1  151.1  8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 JPM   2025.05.18D10:22:20.279000000 267.5  268.46 264.71 267.56 8925900   264.5  266.01 12      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 MA    2025.05.18D10:22:20.279000000 580.43 584.29 580.43 583.28 2225400   578.78 584.29 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 META  2025.05.18D10:22:20.279000000 637.96 640.44 626.15 640.34 18405900  639.55 640.95 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 MSFT  2025.05.18D10:22:20.279000000 452.05 454.36 448.73 454.27 23803400  443.32 454.45 1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 NVDA  2025.05.18D10:22:20.279000000 136.22 136.35 133.46 135.4  222651500 126.78 137    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 PG    2025.05.18D10:22:20.279000000 162.65 163.43 161.85 163.28 7100200   163.17 163.49 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 TSLA  2025.05.18D10:22:20.279000000 346.24 351.62 342.33 349.98 93811800  328.7  363.64 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 UNH   2025.05.18D10:22:20.279000000 279.29 294.49 269.14 291.91 70637700  287.57 287.7  8       14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 V     2025.05.18D10:22:20.279000000 362.95 366.19 360.89 365.12 5836500   363.55 365.25 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.18D10:22:23.548140000 WMT   2025.05.18D10:22:20.279000000 96.14  99.19  96     98.24  33708300  96.51  97.78  13      22</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To verify that the column types have been updated correctly, we can inspect the table schema using the <a href="https://code.kx.com/q/ref/meta/" target="_blank" rel="noopener noreferrer"><code>meta</code></a> operator.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q.u))meta update `$sym,&quot;P&quot;$feedHandlerTime from flip `time`sym`feedHandlerTime`open`high`low`close`volume`bid`ask`bidSize`askSize!flip a,&#x27;x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c              | t f a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------| -----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time           | p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sym            | s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feedHandlerTime| p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open           | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">high           | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">low            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">close          | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">volume         | j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bid            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ask            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bidSize        | j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">askSize        | j</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It&#x27;s important to note that type conversions like the one above should not be performed at the Tickerplant level. This approach is tailored to a very specific dataset and goes against the principle of keeping the Tickerplant generic and adaptable to various data sources.</p>
<p>Ideally, the Tickerplant should remain as lightweight as possible, free of any dataset-specific business logic. A more appropriate place to handle this kind of transformation would be within the Feedhandler itself.</p>
<p>That said, for illustrative and educational purposes, we&#x27;ll keep the code as-is for now.</p>
<p>Now, returning to our Tickerplant code, we make a few final adjustments, cleaning up anything unnecessary, before it&#x27;s ready to run. You can find the final version of the code in my GitHub repo <a href="https://github.com/DefconQ/defconQ/tree/master/projects/realTimeStock" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="real-time-database-rdb">Real-Time Database (RDB)<a href="#real-time-database-rdb" class="hash-link" aria-label="Direct link to Real-Time Database (RDB)" title="Direct link to Real-Time Database (RDB)">​</a></h3>
<p>For the Real-Time Database (RDB), only minimal adjustments are needed. The main change is modifying the end-of-day save-down process: instead of persisting data to disk, which isn’t necessary for our current setup, we simply purge the data from the <code>stocks</code> table and start fresh the next day. We&#x27;ll cover building a Historical Database (HDB) in a later stage.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bringing-it-all-to-life-launching-your-real-time-kdbq-stack">Bringing it all to Life: Launching Your Real-Time KDB/Q Stack<a href="#bringing-it-all-to-life-launching-your-real-time-kdbq-stack" class="hash-link" aria-label="Direct link to Bringing it all to Life: Launching Your Real-Time KDB/Q Stack" title="Direct link to Bringing it all to Life: Launching Your Real-Time KDB/Q Stack">​</a></h2>
<p>Now that all the pieces are in place, it’s time to bring your real-time application to life.</p>
<p>We’ll start by launching the Tickerplant with the following command:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">qq tick.q sym . -p 5010</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once it’s up and running, you can verify that the <code>stocks</code> table was correctly initialized by inspecting its contents and checking the schema using <code>meta</code></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alexanderunterrainer@Mac:~/repos/yfinData|⇒  qq tick.q sym . -p 5010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KDB+ 4.1 2025.02.18 Copyright (C) 1993-2025 Kx Systems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m64/ 8(24)core 24576MB alexanderunterrainer mac 192.168.1.177 EXPIRE 2026.03.11 KDB PLUS PERSONAL #5024911</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time sym feedHandlerTime open high low close volume bid ask bidSize askSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)meta stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c              | t f a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------| -----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time           | p   s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sym            | s   g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feedHandlerTime| p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open           | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">high           | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">low            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">close          | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">volume         | i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bid            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ask            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bidSize        | i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">askSize        | i</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, start the Real-Time Database (RDB):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">qq tick/r.q :5010 -p 5011</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Again, confirm that everything is wired up properly by reviewing the data and table schema.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alexanderunterrainer@Mac:~/repos/yfinData|⇒  qq tick/r.q :5010 -p 5011</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">KDB+ 4.1 2025.02.18 Copyright (C) 1993-2025 Kx Systems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m64/ 8(24)core 24576MB alexanderunterrainer mac 192.168.1.177 EXPIRE 2026.03.11 KDB PLUS PERSONAL #5024911</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time sym feedHandlerTime open high low close volume bid ask bidSize askSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------------------------------------------------------------------</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Finally, kick off the Feedhandler, which will fetch stock data from Yahoo Finance every 30 seconds and stream it to the Tickerplant:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">alexanderunterrainer@Mac:~/repos/yfinData|⇒  python3 yahoo_finance_streamer.py --tickers tickers.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:22,555 - INFO - Loaded 14 ticker symbols from tickers.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:22,555 - INFO - Connecting to KDB+ at localhost:5010 (attempt 1/3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:22,556 - INFO - Successfully connected to KDB+: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:22,556 - INFO - Starting data streaming for 14 symbols at 30s intervals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:22,556 - INFO - Fetching data for batch 1: 14 symbols</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:26,063 - INFO - Streamed 14 records to KDB+ table &#x27;stocks&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:26,063 - INFO - Completed iteration 1. Next run at 20:41:52</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:52,642 - INFO - Fetching data for batch 1: 14 symbols</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:55,327 - INFO - Streamed 14 records to KDB+ table &#x27;stocks&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:41:55,327 - INFO - Completed iteration 2. Next run at 20:42:22</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:42:22,664 - INFO - Fetching data for batch 1: 14 symbols</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:42:25,360 - INFO - Streamed 14 records to KDB+ table &#x27;stocks&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:42:25,360 - INFO - Completed iteration 3. Next run at 20:42:52</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let’s take a closer look at the incoming data.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">q)stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time                          sym   feedHandlerTime               open    high     low     close    volume    bid    ask    bidSize askSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------------------------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 AMZN  2025.05.19D20:41:22.556000000 201.645 206.62   201.26  205.47   23999471  195.53 205.94 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 GOOGL 2025.05.19D20:41:22.556000000 164.51  166.07   164.22  165.78   24114304  165.75 172    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 HD    2025.05.19D20:41:22.556000000 374.19  381.145  374.23  379.49   2873584   379.27 379.26 13      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 JNJ   2025.05.19D20:41:22.556000000 151.89  152.41   151.05  152.41   4847505   152.13 152.15 10      11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 JPM   2025.05.19D20:41:22.556000000 265.55  268.31   261.93  264.965  9446982   265.11 265.17 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 MA    2025.05.19D20:41:22.556000000 581.015 588.45   580.48  585.265  1134011   585.04 585.29 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 META  2025.05.19D20:41:22.556000000 628.25  643      627.9   639.038  7486566   609.58 658.53 1       4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 MSFT  2025.05.19D20:41:22.556000000 450.875 459.585  450.875 457.49   13771984  455.03 457.76 4       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 NVDA  2025.05.19D20:41:22.556000000 132.41  135.87   132.41  135.216  164733322 134.99 135.45 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 PG    2025.05.19D20:41:22.556000000 163.47  165.15   163.41  164.54   5727733   164.37 164.43 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 TSLA  2025.05.19D20:41:22.556000000 336.34  343      333.38  342.3106 77338471  339    348    2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 UNH   2025.05.19D20:41:22.556000000 304.775 316.21   297.245 314.7999 55893400  312.55 312.43 11      14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 V     2025.05.19D20:41:22.556000000 363.02  369.1499 362.321 367.73   3239193   367.38 367.43 8       10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 WMT   2025.05.19D20:41:22.556000000 96.65   98.26    95.8101 98.189   13795258  98.05  98.07  10      10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time                          sym   feedHandlerTime               open    high     low     close    volume    bid    ask    bidSize askSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------------------------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 AMZN  2025.05.19D20:41:22.556000000 201.645 206.62   201.26  205.47   23999471  195.53 205.94 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 GOOGL 2025.05.19D20:41:22.556000000 164.51  166.07   164.22  165.78   24114304  165.75 172    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 HD    2025.05.19D20:41:22.556000000 374.19  381.145  374.23  379.49   2873584   379.27 379.26 13      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 JNJ   2025.05.19D20:41:22.556000000 151.89  152.41   151.05  152.41   4847505   152.13 152.15 10      11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 JPM   2025.05.19D20:41:22.556000000 265.55  268.31   261.93  264.965  9446982   265.11 265.17 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 MA    2025.05.19D20:41:22.556000000 581.015 588.45   580.48  585.265  1134011   585.04 585.29 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 META  2025.05.19D20:41:22.556000000 628.25  643      627.9   639.038  7486566   609.58 658.53 1       4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 MSFT  2025.05.19D20:41:22.556000000 450.875 459.585  450.875 457.49   13771984  455.03 457.76 4       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 NVDA  2025.05.19D20:41:22.556000000 132.41  135.87   132.41  135.216  164733322 134.99 135.45 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 PG    2025.05.19D20:41:22.556000000 163.47  165.15   163.41  164.54   5727733   164.37 164.43 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 TSLA  2025.05.19D20:41:22.556000000 336.34  343      333.38  342.3106 77338471  339    348    2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 UNH   2025.05.19D20:41:22.556000000 304.775 316.21   297.245 314.7999 55893400  312.55 312.43 11      14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 V     2025.05.19D20:41:22.556000000 363.02  369.1499 362.321 367.73   3239193   367.38 367.43 8       10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 WMT   2025.05.19D20:41:22.556000000 96.65   98.26    95.8101 98.189   13795258  98.05  98.07  10      10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 AMZN  2025.05.19D20:41:52.643000000 201.645 206.62   201.26  205.52   24022841  200    205.94 2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 GOOGL 2025.05.19D20:41:52.643000000 164.51  166.07   164.22  165.84   24144223  165.75 172    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 HD    2025.05.19D20:41:52.643000000 374.19  381.145  374.23  379.475  2877334   379.27 379.31 13      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 JNJ   2025.05.19D20:41:52.643000000 151.89  152.41   151.05  152.395  4854132   152.12 152.14 10      11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 JPM   2025.05.19D20:41:52.643000000 265.55  268.31   261.93  264.975  9457337   265.11 265.18 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 MA    2025.05.19D20:41:52.643000000 581.015 588.45   580.48  585.35   1137405   585.04 585.44 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 META  2025.05.19D20:41:52.643000000 628.25  643      627.9   639.35   7497210   609.58 658.53 1       4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 MSFT  2025.05.19D20:41:52.643000000 450.875 459.585  450.875 457.5375 13786633  455.03 457.76 4       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 NVDA  2025.05.19D20:41:52.643000000 132.41  135.87   132.41  135.265  164894932 135.05 135.51 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 PG    2025.05.19D20:41:52.643000000 163.47  165.15   163.41  164.545  5732887   164.37 164.43 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 TSLA  2025.05.19D20:41:52.643000000 336.34  343      333.38  342.4911 77449325  339    342.53 2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 UNH   2025.05.19D20:41:52.643000000 304.775 316.21   297.245 314.575  55935141  312.8  312.92 11      14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 V     2025.05.19D20:41:52.643000000 363.02  369.1499 362.321 367.72   3245083   367.38 367.54 8       10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 WMT   2025.05.19D20:41:52.643000000 96.65   98.26    95.8101 98.1883  13833048  98.07  98.07  10      10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)count stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">28</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time                          sym   feedHandlerTime               open    high     low     close    volume    bid    ask    bidSize askSize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-------------------------------------------------------------------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 AMZN  2025.05.19D20:41:22.556000000 201.645 206.62   201.26  205.47   23999471  195.53 205.94 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 GOOGL 2025.05.19D20:41:22.556000000 164.51  166.07   164.22  165.78   24114304  165.75 172    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 HD    2025.05.19D20:41:22.556000000 374.19  381.145  374.23  379.49   2873584   379.27 379.26 13      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 JNJ   2025.05.19D20:41:22.556000000 151.89  152.41   151.05  152.41   4847505   152.13 152.15 10      11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 JPM   2025.05.19D20:41:22.556000000 265.55  268.31   261.93  264.965  9446982   265.11 265.17 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 MA    2025.05.19D20:41:22.556000000 581.015 588.45   580.48  585.265  1134011   585.04 585.29 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 META  2025.05.19D20:41:22.556000000 628.25  643      627.9   639.038  7486566   609.58 658.53 1       4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 MSFT  2025.05.19D20:41:22.556000000 450.875 459.585  450.875 457.49   13771984  455.03 457.76 4       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 NVDA  2025.05.19D20:41:22.556000000 132.41  135.87   132.41  135.216  164733322 134.99 135.45 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 PG    2025.05.19D20:41:22.556000000 163.47  165.15   163.41  164.54   5727733   164.37 164.43 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 TSLA  2025.05.19D20:41:22.556000000 336.34  343      333.38  342.3106 77338471  339    348    2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 UNH   2025.05.19D20:41:22.556000000 304.775 316.21   297.245 314.7999 55893400  312.55 312.43 11      14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 V     2025.05.19D20:41:22.556000000 363.02  369.1499 362.321 367.73   3239193   367.38 367.43 8       10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:26.062916000 WMT   2025.05.19D20:41:22.556000000 96.65   98.26    95.8101 98.189   13795258  98.05  98.07  10      10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 AMZN  2025.05.19D20:41:52.643000000 201.645 206.62   201.26  205.52   24022841  200    205.94 2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 GOOGL 2025.05.19D20:41:52.643000000 164.51  166.07   164.22  165.84   24144223  165.75 172    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 HD    2025.05.19D20:41:52.643000000 374.19  381.145  374.23  379.475  2877334   379.27 379.31 13      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 JNJ   2025.05.19D20:41:52.643000000 151.89  152.41   151.05  152.395  4854132   152.12 152.14 10      11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 JPM   2025.05.19D20:41:52.643000000 265.55  268.31   261.93  264.975  9457337   265.11 265.18 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 MA    2025.05.19D20:41:52.643000000 581.015 588.45   580.48  585.35   1137405   585.04 585.44 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 META  2025.05.19D20:41:52.643000000 628.25  643      627.9   639.35   7497210   609.58 658.53 1       4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 MSFT  2025.05.19D20:41:52.643000000 450.875 459.585  450.875 457.5375 13786633  455.03 457.76 4       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 NVDA  2025.05.19D20:41:52.643000000 132.41  135.87   132.41  135.265  164894932 135.05 135.51 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 PG    2025.05.19D20:41:52.643000000 163.47  165.15   163.41  164.545  5732887   164.37 164.43 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 TSLA  2025.05.19D20:41:52.643000000 336.34  343      333.38  342.4911 77449325  339    342.53 2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 UNH   2025.05.19D20:41:52.643000000 304.775 316.21   297.245 314.575  55935141  312.8  312.92 11      14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 V     2025.05.19D20:41:52.643000000 363.02  369.1499 362.321 367.72   3245083   367.38 367.54 8       10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:41:55.327104000 WMT   2025.05.19D20:41:52.643000000 96.65   98.26    95.8101 98.1883  13833048  98.07  98.07  10      10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 AMZN  2025.05.19D20:42:22.665000000 201.645 206.62   201.26  205.51   24037280  195.53 205.94 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 GOOGL 2025.05.19D20:42:22.665000000 164.51  166.07   164.22  165.815  24171372  165.75 172    1       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 HD    2025.05.19D20:42:22.665000000 374.19  381.145  374.23  379.43   2882141   379.12 379.31 13      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 JNJ   2025.05.19D20:42:22.665000000 151.89  152.41   151.05  152.39   4856696   152.12 152.14 10      11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 JPM   2025.05.19D20:42:22.665000000 265.55  268.31   261.93  264.8824 9464132   265.09 265.11 8       9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 MA    2025.05.19D20:42:22.665000000 581.015 588.45   580.48  585.26   1138452   585.04 585.44 11      8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 META  2025.05.19D20:42:22.665000000 628.25  643      627.9   639.095  7503508   609.58 658.53 1       4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 MSFT  2025.05.19D20:42:22.665000000 450.875 459.585  450.875 457.46   13795208  455.03 457.76 4       2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 NVDA  2025.05.19D20:42:22.665000000 132.41  135.87   132.41  135.245  164987096 135.03 135.49 1       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 PG    2025.05.19D20:42:22.665000000 163.47  165.15   163.41  164.565  5738934   164.38 164.41 9       8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 TSLA  2025.05.19D20:42:22.665000000 336.34  343      333.38  342.26   77520926  339    348    2       1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 UNH   2025.05.19D20:42:22.665000000 304.775 316.21   297.245 314.57   56023879  312.8  312.92 11      14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 V     2025.05.19D20:42:22.665000000 363.02  369.1499 362.321 367.71   3247511   367.38 367.54 8       10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025.05.19D20:42:25.360198000 WMT   2025.05.19D20:42:22.665000000 96.65   98.26    95.8101 98.195   13851133  97.99  98.07  10      10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)count stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">42</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q)meta stocks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c              | t f a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------------| -----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time           | p   s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sym            | s   g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feedHandlerTime| p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">open           | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">high           | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">low            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">close          | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">volume         | i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bid            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ask            | f</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bidSize        | i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">askSize        | i</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let it run as long as you&#x27;d like, and when you&#x27;re ready to shut it down, simply press <code>CTRL+C</code> to exit the Python script.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:42:25,360 - INFO - Completed iteration 3. Next run at 20:42:52</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">^C2025-05-19 20:42:48,192 - INFO - Received keyboard interrupt. Shutting down...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2025-05-19 20:42:48,192 - INFO - Closed KDB+ connection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>I hope you found this tutorial useful and got a glimpse of the power and flexibility of KDB/Q, especially how straightforward it can be to build a real-time streaming application. In the next tutorial, we’ll learn how to build a historical stock price database for research purposes. Stay tuned!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources">​</a></h2>
<ul>
<li>yfinance library: <a href="https://github.com/ranaroussi/yfinance" target="_blank" rel="noopener noreferrer">Githup repo</a></li>
<li>qpython library: <a href="https://github.com/exxeleron/qPython/tree/master" target="_blank" rel="noopener noreferrer">Github repo</a></li>
<li><a href="https://qpython.readthedocs.io/en/latest/#" target="_blank" rel="noopener noreferrer">qpython Documentation</a></li>
<li><a href="https://www.defconq.tech/docs/architecture/plain" target="_blank" rel="noopener noreferrer">The Plain Vanilla Tick Setup</a></li>
<li><a href="https://www.defconq.tech/docs/tutorials/tick" target="_blank" rel="noopener noreferrer">KDB Tick Explained: A Walkthrough</a></li>
<li><a href="https://www.defconq.tech/docs/concepts/attributes" target="_blank" rel="noopener noreferrer">Attributes</a></li>
<li><a href="https://www.defconq.tech/docs/concepts/dictionariesTables" target="_blank" rel="noopener noreferrer">Dictionaries and Tables</a></li>
<li><a href="https://www.defconq.tech/docs/concepts/ipc" target="_blank" rel="noopener noreferrer">Fundamentals of Interprocess Communication (IPC)</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorials/tick2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">KDB Tick Explained: A Walkthrough [PART 2]</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorials/researchHDB"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Back to the Future: Building Your Research HDB for Stock Market Insights</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#who-is-this-tutorial-for" class="table-of-contents__link toc-highlight">Who is this tutorial for?</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#whats-in-it-for-you-skills-youll-master-in-this-tutorial" class="table-of-contents__link toc-highlight">What’s in It for You: Skills You’ll Master in This Tutorial</a></li><li><a href="#under-the-hood-the-minimalist-tech-stack-powering-it-all" class="table-of-contents__link toc-highlight">Under the Hood: The Minimalist Tech Stack Powering It All</a></li><li><a href="#the-setup" class="table-of-contents__link toc-highlight">The Setup</a><ul><li><a href="#feedhandler" class="table-of-contents__link toc-highlight">Feedhandler</a></li><li><a href="#tickerscsv-your-command-center-for-stock-selection" class="table-of-contents__link toc-highlight"><code>tickers.csv</code>: Your Command Center for Stock Selection</a></li><li><a href="#table-schema-and-symq-file" class="table-of-contents__link toc-highlight">Table Schema and <code>sym.q</code> File</a></li><li><a href="#tickerplant-tp" class="table-of-contents__link toc-highlight">Tickerplant (TP)</a></li><li><a href="#real-time-database-rdb" class="table-of-contents__link toc-highlight">Real-Time Database (RDB)</a></li></ul></li><li><a href="#bringing-it-all-to-life-launching-your-real-time-kdbq-stack" class="table-of-contents__link toc-highlight">Bringing it all to Life: Launching Your Real-Time KDB/Q Stack</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Learn</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/defconq/" target="_blank" rel="noopener noreferrer" class="footer__link-item">DefconQ Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/alexanderunterrainer/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Alexander Unterrainer Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://defconq.myspreadshop.co.uk" target="_blank" rel="noopener noreferrer" class="footer__link-item">DefconQ Swag<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://www.youtube.com/@DefconQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://defconq.substack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Substack Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://medium.com/@defconq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/DefconQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DefconQ Ltd. This website is maintained by Alexander Unterrainer. Disclaimer: All content shared on this website reflect solely his personal thoughts and opinions, and is not representative of any past, current, or future employers or affiliations.</div></div></div></footer></div>
</body>
</html>