<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-architecture/gateway" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Gateways: The Bouncer at the Front Door of Your KDB/Q Stack | DefconQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://DefconQ.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://DefconQ.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://DefconQ.github.io/docs/architecture/gateway"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Gateways: The Bouncer at the Front Door of Your KDB/Q Stack | DefconQ"><meta data-rh="true" name="description" content="Why They Matter, How They Work, and How to Build One That Actually Scales"><meta data-rh="true" property="og:description" content="Why They Matter, How They Work, and How to Build One That Actually Scales"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://DefconQ.github.io/docs/architecture/gateway"><link data-rh="true" rel="alternate" href="https://DefconQ.github.io/docs/architecture/gateway" hreflang="en"><link data-rh="true" rel="alternate" href="https://DefconQ.github.io/docs/architecture/gateway" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://R6JV2N50EX-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DefconQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DefconQ Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E9ED09HNE3"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E9ED09HNE3",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="DefconQ" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.5860f28a.css">
<script src="/assets/js/runtime~main.370bf096.js" defer="defer"></script>
<script src="/assets/js/main.be12613f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#74e8a3" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Stay up to date with the latest blogs posts - subscribe to my free Substack newsletter now <a href="https://defconq.substack.com">Free Substack Newsletter</a> or follow me on <a href="https://medium.com/@defconq">Medium</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="DefconQ Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" height="150" width="50"><img src="/img/logoLight.svg" alt="DefconQ Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" height="150" width="50"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Learn</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/about/about">About</a><a class="navbar__item navbar__link" href="/defconqPro/defconqPro">DefconQ Pro</a><a class="navbar__item navbar__link" href="/testimonials/testimonials">Testimonials</a><a class="navbar__item navbar__link" href="/happyHour/happyHour">Happy Hour</a><a class="navbar__item navbar__link" href="/cv/cv">CV</a><a href="https://defconq.substack.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Substack Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://medium.com/@defconq" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://defconq.myspreadshop.co.uk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Swag<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/DefconQ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdbq-study-roadmap">KDB/Q Study Roadmap</a><button aria-label="Expand sidebar category &#x27;KDB/Q Study Roadmap&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/kdbq-language">KDB/Q Language</a><button aria-label="Expand sidebar category &#x27;KDB/Q Language&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/kdbq-architecture">KDB/Q Architecture</a><button aria-label="Collapse sidebar category &#x27;KDB/Q Architecture&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/plain">The Plain Vanilla Tick Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/architecture/advanced">Advanced KDB/Q Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/architecture/gateway">Gateways: The Bouncer at the Front Door of Your KDB/Q Stack</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/important-concepts">Important Concepts</a><button aria-label="Expand sidebar category &#x27;Important Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/design-patterns-for-kdbq-systems">Design Patterns for KDB/Q Systems</a><button aria-label="Expand sidebar category &#x27;Design Patterns for KDB/Q Systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/productivity-tools">Productivity Tools</a><button aria-label="Expand sidebar category &#x27;Productivity Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/kdbq-architecture"><span itemprop="name">KDB/Q Architecture</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Gateways: The Bouncer at the Front Door of Your KDB/Q Stack</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Gateways: The Bouncer at the Front Door of Your KDB/Q Stack</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-they-matter-how-they-work-and-how-to-build-one-that-actually-scales">Why They Matter, How They Work, and How to Build One That Actually Scales<a href="#why-they-matter-how-they-work-and-how-to-build-one-that-actually-scales" class="hash-link" aria-label="Direct link to Why They Matter, How They Work, and How to Build One That Actually Scales" title="Direct link to Why They Matter, How They Work, and How to Build One That Actually Scales">​</a></h2>
<p>In every KDB/Q stack you have ever built, somewhere behind the scenes there’s likely been <em>that</em> conversation:</p>
<blockquote>
<p>&quot;Hey, where do I find the options data?&quot;
<br>
<!-- -->&quot;Why did my query lock up the HDB?&quot;
<br>
<!-- -->&quot;I swear I didn’t break anything...&quot;</p>
</blockquote>
<p>If you have ever been on the receiving end of questions like these, or if your users have occasionally <em><strong>accidentally</strong></em> brought your system to its knees, you are living proof that <strong>a missing (or poorly implemented) gateway is a costly architectural gap.</strong></p>
<p>In this post, we will answer the big question:</p>
<blockquote>
<p><strong>What is a Gateway, and why is it such a critical component in modern KDB/Q architecture?</strong></p>
</blockquote>
<p>We will break down best practices, real design options, and even extend the classic ideas with modern approaches like async routing, caching, security, and observability.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-gateway">What Is a Gateway?<a href="#what-is-a-gateway" class="hash-link" aria-label="Direct link to What Is a Gateway?" title="Direct link to What Is a Gateway?">​</a></h2>
<p>The way I like to think about a gateway is as the <strong>single point of entry</strong> for all clients interacting with your KDB/Q system. But it’s not just an access point, it&#x27;s much more than that. A gateway acts as a protective layer for your stack: it shields your system from poorly formed or expensive queries, verifies who is allowed to query what, blocks requests when necessary, and routes valid queries to the correct endpoint.</p>
<p>Just as importantly, a gateway removes a whole set of responsibilities from your users. They no longer need to</p>
<ul>
<li>Know where the data lives (RDB vs HDB vs other services)</li>
<li>Understand how to combine results from multiple sources, or</li>
<li>Send several requests and stitch the responses together themselves.</li>
</ul>
<p>In other words, the gateway is your bouncer at the front door of the KDB/Q stack, checking IDs, enforcing the rules, and making sure only the right requests make it inside.</p>
<p><img decoding="async" loading="lazy" alt="Gateways, the Bouncer to your KDB/Q Stack" src="/assets/images/GatewayBouncer-6c9e10b2d6eaf6e6246faebd97c6ac54.png" width="1536" height="1024" class="img_ev3q"></p>
<p>Clients make one call to the gateway, and <em><strong>magic</strong></em> happens behind the scenes:</p>
<ul>
<li>Data is retrieved from the correct services</li>
<li>Requests are load balanced if needed</li>
<li>Security and permissions are enforced</li>
<li>A clean, unified result is returned</li>
</ul>
<p>This separation is powerful. It decouples client logic from system internals, which means you can evolve your architecture without constantly breaking downstream users. You can move data, split databases, add replicas, or introduce new services, and the client never needs to know. From their perspective, the gateway <em><strong>is</strong></em> the system.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gateway-roles-and-responsibilities">Gateway Roles and Responsibilities<a href="#gateway-roles-and-responsibilities" class="hash-link" aria-label="Direct link to Gateway Roles and Responsibilities" title="Direct link to Gateway Roles and Responsibilities">​</a></h2>
<p>Thinking of a gateway purely as an access point is selling it short. Yes, it <em><strong>is</strong></em> the single entry point for all clients interacting with your KDB/Q stack, but more importantly, it’s the place where <em>intent</em> is translated into <em>action</em>. Clients express what they want, not how or where to get it. The gateway takes responsibility for figuring out the rest.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-access-interface">1. Access Interface<a href="#1-access-interface" class="hash-link" aria-label="Direct link to 1. Access Interface" title="Direct link to 1. Access Interface">​</a></h3>
<p>The access interface defines <em>how</em> clients interact with your KDB/Q system, and predictability here is everything. A gateway should expose a small, well-defined set of entry points that clients can rely on, whether that’s through KDB/Q function calls, stored procedures, or endpoints for non-q consumers. By enforcing a consistent request structure, the gateway reduces ambiguity, simplifies client implementations, and prevents users from crafting ad-hoc queries that bypass system rules. A clear access interface also makes it easier to validate inputs, apply permissions, version APIs, and evolve the backend without breaking consumers. In short, the gateway turns an otherwise flexible and potentially dangerous system into something stable, consumable, and safe to use.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-authentication-authorization-and-entitlements">2. Authentication, Authorization, and Entitlements<a href="#2-authentication-authorization-and-entitlements" class="hash-link" aria-label="Direct link to 2. Authentication, Authorization, and Entitlements" title="Direct link to 2. Authentication, Authorization, and Entitlements">​</a></h3>
<p>Security in KDB/Q systems often starts, and ideally ends, at the gateway. Before talking to any service, it verifies:</p>
<ul>
<li><strong>User identity</strong></li>
<li><strong>What they are allowed to request</strong></li>
<li><strong>Whether the operation is permitted under current policy</strong></li>
</ul>
<p>This is often done with functions like <a href="https://code.kx.com/q/ref/dotz/#zpw-validate-user" target="_blank" rel="noopener noreferrer"><code>.z.pw</code></a>, <a href="https://code.kx.com/q/ref/dotz/#zpg-get" target="_blank" rel="noopener noreferrer"><code>.z.pg</code></a>, or <a href="https://code.kx.com/q/ref/dotz/#zps-set" target="_blank" rel="noopener noreferrer"><code>.z.ps</code></a> to gate specific tables, symbols, or services without exposing internals. Rather than spreading entitlement logic across multiple processes, the gateway centralizes access control in one place. This includes verifying who the user is, what they are allowed to see, and which operations they are permitted to perform.
From a design perspective, this dramatically simplifies the rest of the stack. Downstream services can assume that incoming requests are already authorized and well-formed. From an operational perspective, it gives you a single point to audit access, apply changes, and reason about who touched what data and when.</p>
<p>In larger systems, however, avoiding bottlenecks and single points of failure becomes critical. Following the <em>one process, one task</em> principle, it can make sense to introduce a dedicated, centralized entitlements service that gateways can query as needed. This keeps authorization logic decoupled, easier to maintain, and simpler to evolve over time. As with most architectural decisions, there’s no one-size-fits-all solution, the right approach depends on scale, complexity, and operational requirements.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-routing-queries-to-the-right-endpoint">3. Routing Queries to the Right Endpoint<a href="#3-routing-queries-to-the-right-endpoint" class="hash-link" aria-label="Direct link to 3. Routing Queries to the Right Endpoint" title="Direct link to 3. Routing Queries to the Right Endpoint">​</a></h3>
<p>In a non-trivial KDB/Q system, data rarely lives in just one place. Recent data may sit in an RDB, historical data in one or more HDBs, and derived analytics in separate services altogether. Expecting clients to understand this layout is both unrealistic and dangerous.
The gateway abstracts this complexity away. Based on query parameters, such as date ranges, instruments or asset classes, it decides which backend service (or combination of services) should handle the request. The routing logic can be as simple or as sophisticated as your system requires, but the key point remains the same: <strong>clients should never need to care.</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-load-balancing-and-backpressure-management">4. Load Balancing and Backpressure Management<a href="#4-load-balancing-and-backpressure-management" class="hash-link" aria-label="Direct link to 4. Load Balancing and Backpressure Management" title="Direct link to 4. Load Balancing and Backpressure Management">​</a></h3>
<p>As usage grows, the gateway also becomes a strategic control point for managing load. Whether you’re serving more users, running heavier analytics, or supporting extended trading hours, a single process handling all requests will eventually become a bottleneck. Load balancing is how you scale horizontally without rewriting your entire system. In a KDB/Q context, load balancing typically means running multiple instances of the same service, most commonly HDBs, analytics services, or even gateways themselves, and distributing incoming queries across them. Because KDB/Q processes are lightweight and fast to start, spinning up additional instances is often far easier than vertically scaling a single, overworked process. A load balancer can track process health, query latency, or simple round-robin allocation to ensure work is spread evenly and no single process is overwhelmed.</p>
<p>A well-designed gateway architecture doesn’t just route queries; it distributes them intelligently. Load balancing ensures that requests are spread evenly across available resources, be that multiple RDBs, HDBs, or downstream analytic services, so no single process becomes a bottleneck. There are a few approaches you can take:</p>
<ul>
<li><strong>Round-robin</strong>: The simplest method, each request goes to the next available process in line. Great for evenly distributed workloads.</li>
<li><strong>Least-loaded</strong>: The gateway keeps an eye on real-time processes and routes queries to the node with the most capacity.</li>
<li><strong>Data-locality aware</strong>: Particularly in mult-database environments, the gateway can send queries to the node closest to the data, minimizing network latency and improving throughput.</li>
</ul>
<p>But load balancing isn’t just about performance, it’s also about <strong>resilience</strong>. If one node becomes unresponsive, the gateway can detect the failure, reroute queries, and keep the system alive without users even noticing. This combination of performance optimization and graceful degradation turns your gateway from a mere traffic cop into a full-fledged air traffic controller, keeping everything flowing safely and efficiently.</p>
<p>Much like entitlements, load balancing can be handled in two ways: either as a dedicated, standalone service, or by embedding the load-balancing logic directly within the gateway itself.</p>
<p><strong>And remember</strong>: a gateway without load balancing is like a London pub with only one bartender on a Friday night, it might technically work, but no one’s going to have a good time.</p>
<p><img decoding="async" loading="lazy" alt="London Pub without Load Balancer" src="/assets/images/DefconQLoadbalancerPub-dd219532e5767f00ae3f774d64a694ea.png" width="1024" height="1536" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-data-aggregation">5. Data Aggregation<a href="#5-data-aggregation" class="hash-link" aria-label="Direct link to 5. Data Aggregation" title="Direct link to 5. Data Aggregation">​</a></h3>
<p>Sometimes a single request needs data from more than one place, for example, combining historical data from the HDB with live updates from the RDB. In these cases, the gateway acts as the orchestrator: it fans out the request to the relevant backends, aggregates and reconciles the results, and composes a single, consistent response before returning it to the client. This keeps the client interface simple while hiding the underlying complexity of the data landscape.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gateway-design-options">Gateway Design Options<a href="#gateway-design-options" class="hash-link" aria-label="Direct link to Gateway Design Options" title="Direct link to Gateway Design Options">​</a></h2>
<p>As usage increases, the gateway evolves beyond a simple entry point into your KDB/Q stack and starts acting as a coordinator, opening up a range of different architectural and design choices. It is worth keeping in mind that there’s no single “right” way to design a gateway. Different problems call for different solutions, so the shape of your gateway should always be driven by the actual needs of your system. Before settling on a design, it’s useful to step back and ask a few fundamental questions:</p>
<ul>
<li>What query volume does the gateway need to sustain?</li>
<li>How many clients connect, and are they humans, automated services, or a mix of both?</li>
<li>How many downstream processes does the gateway orchestrate (RDBs, HDBs, CEP engines, etc.)?</li>
<li>Are those processes distributed across multiple servers or even multiple regions?</li>
<li>Will there be a single central gateway, or several gateways working in parallel?</li>
<li>What are the requirements around resilience and business continuity?</li>
<li>How are queries expressed and executed?</li>
<li>How are results returned? Does the gateway need to merge or aggregate data before responding?</li>
</ul>
<p>Answering these upfront will naturally guide you toward a gateway design that fits your use case, rather than forcing your use case to fit the design. In the next section, we will look at two different approaches outlined in KX’s <a href="https://code.kx.com/q/wp/gateway-design/#load-balancing" target="_blank" rel="noopener noreferrer">&quot;Common Design Principles for kdb+ Gateways</a>, and walk through the benefits and trade-offs of each.</p>
<p><img decoding="async" loading="lazy" alt="DefconQ Gateway Infrastructure" src="/assets/images/GatewayInfrastructure-024b10e7ca2cee6582aa27f6ef74d854.png" width="1024" height="1536" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pass-through-gateway">Pass-Through Gateway<a href="#pass-through-gateway" class="hash-link" aria-label="Direct link to Pass-Through Gateway" title="Direct link to Pass-Through Gateway">​</a></h3>
<p>This is the simplest pattern. When the gateway gets a request it <em><strong>passes it straight</strong></em> to a dedicated load balancer. That balancer then picks the least busy backend service and returns the result, back through itself, to the gateway. Think of it like a traffic cop taking the request, deciding the best lane, and handing you back the response.</p>
<p><img decoding="async" loading="lazy" alt="DefconQ Pass Through Gateway" src="/assets/images/passThroughGateway-e3a5fbdbabd45b87b78dde1d3371920b.gif" width="1522" height="1470" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="pros">Pros<a href="#pros" class="hash-link" aria-label="Direct link to Pros" title="Direct link to Pros">​</a></h4>
<ul>
<li>Simple logic.</li>
<li>Backend choice is based on load.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="cons">Cons<a href="#cons" class="hash-link" aria-label="Direct link to Cons" title="Direct link to Cons">​</a></h4>
<ul>
<li>Extra hop adds overhead.</li>
<li>Every response flows back through the balancer (extra IPC).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="when-this-works">When this works<a href="#when-this-works" class="hash-link" aria-label="Direct link to When this works" title="Direct link to When this works">​</a></h4>
<ul>
<li>Very simple systems</li>
<li>Use of External load balancers (L4/L7)</li>
<li>You don’t care about extra IPC hops</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-it-often-hurts">Why it often hurts<a href="#why-it-often-hurts" class="hash-link" aria-label="Direct link to Why it often hurts" title="Direct link to Why it often hurts">​</a></h4>
<ul>
<li>Extra latency (double IPC)</li>
<li>Load balancer becomes hot very quickly</li>
<li>Harder to introspect query lifecycle from the gateway</li>
</ul>
<p>In <strong>KDB/Q</strong> terms: it works, but it’s rarely elegant.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connection-manager-load-balancer-recommended">Connection-Manager Load Balancer (Recommended)<a href="#connection-manager-load-balancer-recommended" class="hash-link" aria-label="Direct link to Connection-Manager Load Balancer (Recommended)" title="Direct link to Connection-Manager Load Balancer (Recommended)">​</a></h3>
<p>This approach splits responsibility a bit more smartly. The gateway asks the load balancer: <em><strong>&quot;Give me the address of a service that can run this query.&quot;</strong></em> The Loadbalancer responds with a <code>host:port</code>, and then the gateway talks directly to that service for both request and result. You can implement this two ways:</p>
<ul>
<li><strong>Round-Robin</strong>: simple rotation through services.</li>
<li><strong>Availability-Aware</strong>: only return a service if it’s currently free, otherwise queue the request until one becomes free.</li>
</ul>
<p>The latter is more work, but it’s <strong>way</strong> better at keeping services busy and minimizing unnecessary queueing. These more advanced gateways go one step further by actively maintaining a service registry and continuously tracking the state of the underlying services. Instead of blindly rotating requests, the gateway makes informed routing decisions based on factors such as service availability, current system load, and the expected complexity of the incoming query. A lightweight lookup determines which process is free, which one is already under pressure, and which is best suited to handle the work at hand. This moves the system well beyond simple round-robin scheduling and results in lower tail latencies, better overall throughput, and significantly improved resource utilisation across the entire KDB/Q stack.</p>
<p><img decoding="async" loading="lazy" alt="DefconQ Connection Manager Loadbalancer" src="/assets/images/connectionManagerLoadbalancer-98bcb5850f939bd48d472bad76ceadd8.gif" width="1522" height="1470" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-takeaways">Key Takeaways<a href="#key-takeaways" class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways">​</a></h3>
<table><thead><tr><th>Pattern</th><th>IPC Overhead</th><th>Resource Utilization</th><th>Complexity</th></tr></thead><tbody><tr><td>Pass-Through</td><td>High</td><td>Moderate</td><td>Low</td></tr><tr><td>Connection Manager (Smart)</td><td>Low</td><td>High</td><td>Medium-High</td></tr></tbody></table>
<p>For smaller deployments or proof-of-concepts, simple round-robin might suffice. But at real scale — where queries run concurrently and durations vary, having the load balancer actually <em>track</em> service state and manage queues is worth the engineering investment.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="beyond-the-basics-key-considerations-for-advanced-gateway-design">Beyond the Basics: Key Considerations for Advanced Gateway Design<a href="#beyond-the-basics-key-considerations-for-advanced-gateway-design" class="hash-link" aria-label="Direct link to Beyond the Basics: Key Considerations for Advanced Gateway Design" title="Direct link to Beyond the Basics: Key Considerations for Advanced Gateway Design">​</a></h2>
<p>As your platform scales and the architecture becomes more sophisticated, the gateway naturally evolves with it. What started as a simple entry point now takes on more responsibility and nuance. In this section, we will look beyond the basics and explore a set of additional considerations that come into play when designing more advanced gateways, and how to approach them in practice.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronous-vs-asynchronous-communication-in-gateway-design">Synchronous vs. Asynchronous Communication in Gateway Design<a href="#synchronous-vs-asynchronous-communication-in-gateway-design" class="hash-link" aria-label="Direct link to Synchronous vs. Asynchronous Communication in Gateway Design" title="Direct link to Synchronous vs. Asynchronous Communication in Gateway Design">​</a></h3>
<p>When you start building a gateway, one of the first architectural decisions you will run into is <em>how</em> processes talk to each other, and this isn’t just academic. The way components communicate directly shapes throughput, latency, and whether your gateway will become a scalable coordinator or a bottleneck.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="synchronous-communication-simple-but-blocking">Synchronous Communication: Simple but Blocking<a href="#synchronous-communication-simple-but-blocking" class="hash-link" aria-label="Direct link to Synchronous Communication: Simple but Blocking" title="Direct link to Synchronous Communication: Simple but Blocking">​</a></h4>
<p>In a <strong>synchronous</strong> world, every call waits for a reply. The gateway asks a service for data, and <em><strong>blocks</strong></em> until it gets a response. It’s straightforward: send a query, wait, get data, repeat. That simplicity has its charm, it makes reasoning about behavior easy, and for very small systems or simple tooling it “just works” without much code overhead.</p>
<p>But a gateway that blocks on every request doesn’t really make sense, or does it? Imagine hundreds of users firing off thousands of queries throughout the day. If the gateway had to wait for each request to fully complete before moving on to the next, everything would grind to a halt. Throughput would collapse, queues would explode, and response times would stretch into the absurd. In that kind of environment, a blocking gateway isn’t just inefficient, it’s simply not an option.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="asynchronous-communication-parallel-by-defaut">Asynchronous Communication: Parallel by Defaut<a href="#asynchronous-communication-parallel-by-defaut" class="hash-link" aria-label="Direct link to Asynchronous Communication: Parallel by Defaut" title="Direct link to Asynchronous Communication: Parallel by Defaut">​</a></h4>
<p>Enter <strong>asynchronous</strong> communication, the game-changer for gateways at scale. With async, the gateway sends a request to a downstream service and doesn’t wait around. Instead of blocking, it <em><strong>continues processing</strong></em>, accepting other client queries, sending more requests, and tracking outstanding work. When results come back, the gateway collects them and finalises the response.
This pattern dramatically increases throughput: the gateway isn’t idle while waiting on I/O, and you can overlap slow operations with useful work. Want to query both RDB and HDB at the same time and then merge the results? With asynchronous messaging, that’s the norm rather than the exception.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deferred-responses-best-of-both-worlds">Deferred Responses: Best of Both Worlds<a href="#deferred-responses-best-of-both-worlds" class="hash-link" aria-label="Direct link to Deferred Responses: Best of Both Worlds" title="Direct link to Deferred Responses: Best of Both Worlds">​</a></h4>
<p>DefconQ readers should note that many real deployments use a hybrid approach: clients make <strong>synchronous</strong> requests to the gateway (since they expect a result), but the gateway uses <strong>asynchronous</strong> calls internally to backends. This lets the gateway juggle work efficiently while preserving a request–response model at the API boundary, synchronous from the client’s perspective but asynchronous under the hood.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-bigger-picture">The Bigger Picture<a href="#the-bigger-picture" class="hash-link" aria-label="Direct link to The Bigger Picture" title="Direct link to The Bigger Picture">​</a></h4>
<p>Choosing between synchronous and asynchronous isn’t just about RPC (Remote Procedure Call) semantics, it’s about <strong>keeping the gateway alive and responsive under load</strong>. If your gateway is blocked waiting for every downstream service, you have a serialization point that kills parallelism; if you embrace deferred/asynchronous messaging internally, you unlock far more scalability with relatively modest added complexity.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you would like to read more about Interprocess Communication (IPC) in KDB/Q, I have written two dedicated blog posts that explore the topic in more detail.<br>
<a href="https://www.defconq.tech/docs/concepts/ipc" target="_blank" rel="noopener noreferrer">Fundamentals of Interprocess Communication (IPC)</a> <br>
<a href="https://www.defconq.tech/docs/concepts/ipcNextLevel" target="_blank" rel="noopener noreferrer">Beyond the Fundamentals: Next Level Interprocess Communications</a></p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resilience-and-fault-tolerance">Resilience and Fault Tolerance<a href="#resilience-and-fault-tolerance" class="hash-link" aria-label="Direct link to Resilience and Fault Tolerance" title="Direct link to Resilience and Fault Tolerance">​</a></h3>
<p>A production-grade gateway shouldn’t fall apart just because a single downstream component has a bad day. In real systems, processes crash, networks hiccup, and services get overloaded, and the gateway is often the first line of defence against all of that. Instead of blindly forwarding requests, a resilient gateway actively monitors the health of its dependencies and adapts its behaviour when things go wrong. If a primary HDB becomes unavailable, the gateway can transparently route requests to a redundant replica. If an RDB is under heavy load, it may choose to return a degraded but still useful response rather than letting queries pile up and time out. And when no viable option exists, the gateway should fail gracefully, returning clear, informative errors instead of leaving users guessing. This is why robust gateways are typically paired with health checks, heartbeats, and well-defined fallback strategies, not just to keep the system running, but to keep it predictable and user-friendly under failure conditions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="caching-in-gateways">Caching in Gateways<a href="#caching-in-gateways" class="hash-link" aria-label="Direct link to Caching in Gateways" title="Direct link to Caching in Gateways">​</a></h3>
<p>One of the most underappreciated, and often overlooked, enhancements in gateway design is smart caching. A well-placed cache allows the gateway to access or store the results of frequently requested queries and serve them directly without hitting downstream services every single time. When combined with sensible invalidation strategies, such as time-to-live (TTL) expiries or event-driven invalidation on data updates, caching can dramatically reduce unnecessary load on RDBs and HDBs. This is especially powerful for predictable or repetitive queries, dashboards, and reference-style lookups where freshness requirements are well understood. Importantly, caching is not about replacing your databases or hiding bad query patterns, it’s about complementing them. Used correctly, gateway-level caching can transform overall system performance, smooth out traffic spikes, and deliver consistently fast response times to end users.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="observability-because-you-cant-improve-what-you-dont-measure">Observability: Because You Can’t Improve What You Don’t Measure<a href="#observability-because-you-cant-improve-what-you-dont-measure" class="hash-link" aria-label="Direct link to Observability: Because You Can’t Improve What You Don’t Measure" title="Direct link to Observability: Because You Can’t Improve What You Don’t Measure">​</a></h3>
<p>A gateway should never be a black box. As the central coordination point of your KDB/Q stack, it has a unique view of how the system is actually being used, and that insight is far too valuable to ignore. A well-designed gateway exposes clear, actionable metrics such as request volume, latency distributions, error rates, service-level timeouts, and cache hit or miss ratios. These signals allow you to understand not just whether the system is up, but how it behaves under real load. When fed into dashboards and alerting systems, this data becomes the foundation for capacity planning, performance tuning, and rapid incident response. Without observability, you’re flying blind; with it, the gateway becomes one of your most powerful tools for continuously improving reliability and performance.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggregating-and-normalizing-results">Aggregating and Normalizing Results<a href="#aggregating-and-normalizing-results" class="hash-link" aria-label="Direct link to Aggregating and Normalizing Results" title="Direct link to Aggregating and Normalizing Results">​</a></h3>
<p>Even when data is distributed across multiple backends, users almost always expect a single, coherent answer. The gateway is the natural place to bring those pieces together. Rather than pushing complexity onto clients, the gateway can aggregate partial responses from different services, normalize schemas, and present a consistent, well-defined output format. This keeps client code simple and decoupled from the underlying data topology. As systems evolve, this aggregation layer becomes increasingly important: new data sources can be introduced, storage formats can change, and legacy services can be retired without breaking consumers. By absorbing that change and enforcing a stable contract at the boundary, the gateway provides continuity over time, and that stability often becomes one of the most valuable and underappreciated features of a well-designed gateway.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="final-thoughts-a-gateway-is-more-than-a-middleman">Final Thoughts: A Gateway Is More Than a Middleman<a href="#final-thoughts-a-gateway-is-more-than-a-middleman" class="hash-link" aria-label="Direct link to Final Thoughts: A Gateway Is More Than a Middleman" title="Direct link to Final Thoughts: A Gateway Is More Than a Middleman">​</a></h2>
<p>A well-designed gateway is not just a thin layer sitting between clients and data, it is the backbone of a responsive, secure, scalable, and maintainable KDB/Q ecosystem. It brings together data access, service health, security, performance, observability, and high-concurrency handling into a single, cohesive control plane. Whether your system serves ten users or ten thousand, the gateway ensures that clients can express what they need in a clean, consistent way, while backend services focus on doing their job efficiently and safely. If you’re building or scaling a real production system, putting a thoughtfully designed gateway in front of it isn’t merely a best practice, it’s a prerequisite for long-term success.</p>
<p>In our next blog post, we will look into a practical, hands-on implementation of a gateway. Until then, stay tuned, and happy coding.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonus-resources">BONUS: Resources<a href="#bonus-resources" class="hash-link" aria-label="Direct link to BONUS: Resources" title="Direct link to BONUS: Resources">​</a></h2>
<ul>
<li><a href="https://code.kx.com/q/wp/gateway-design/#synchronous-vs-asynchronous" target="_blank" rel="noopener noreferrer">KX Whitepaper: Common design principles for kdb+ gateways by Michael McClintock</a></li>
<li><a href="https://www.youtube.com/watch?v=7hpvQ7q_Rus" target="_blank" rel="noopener noreferrer">Mastering kdb+ Architecture: A Panel Discussion</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/architecture/advanced"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Advanced KDB/Q Architecture</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/important-concepts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Important Concepts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-they-matter-how-they-work-and-how-to-build-one-that-actually-scales" class="table-of-contents__link toc-highlight">Why They Matter, How They Work, and How to Build One That Actually Scales</a></li><li><a href="#what-is-a-gateway" class="table-of-contents__link toc-highlight">What Is a Gateway?</a></li><li><a href="#gateway-roles-and-responsibilities" class="table-of-contents__link toc-highlight">Gateway Roles and Responsibilities</a><ul><li><a href="#1-access-interface" class="table-of-contents__link toc-highlight">1. Access Interface</a></li><li><a href="#2-authentication-authorization-and-entitlements" class="table-of-contents__link toc-highlight">2. Authentication, Authorization, and Entitlements</a></li><li><a href="#3-routing-queries-to-the-right-endpoint" class="table-of-contents__link toc-highlight">3. Routing Queries to the Right Endpoint</a></li><li><a href="#4-load-balancing-and-backpressure-management" class="table-of-contents__link toc-highlight">4. Load Balancing and Backpressure Management</a></li><li><a href="#5-data-aggregation" class="table-of-contents__link toc-highlight">5. Data Aggregation</a></li></ul></li><li><a href="#gateway-design-options" class="table-of-contents__link toc-highlight">Gateway Design Options</a><ul><li><a href="#pass-through-gateway" class="table-of-contents__link toc-highlight">Pass-Through Gateway</a><ul><li><a href="#pros" class="table-of-contents__link toc-highlight">Pros</a></li><li><a href="#cons" class="table-of-contents__link toc-highlight">Cons</a></li><li><a href="#when-this-works" class="table-of-contents__link toc-highlight">When this works</a></li><li><a href="#why-it-often-hurts" class="table-of-contents__link toc-highlight">Why it often hurts</a></li></ul></li><li><a href="#connection-manager-load-balancer-recommended" class="table-of-contents__link toc-highlight">Connection-Manager Load Balancer (Recommended)</a></li><li><a href="#key-takeaways" class="table-of-contents__link toc-highlight">Key Takeaways</a></li></ul></li><li><a href="#beyond-the-basics-key-considerations-for-advanced-gateway-design" class="table-of-contents__link toc-highlight">Beyond the Basics: Key Considerations for Advanced Gateway Design</a><ul><li><a href="#synchronous-vs-asynchronous-communication-in-gateway-design" class="table-of-contents__link toc-highlight">Synchronous vs. Asynchronous Communication in Gateway Design</a><ul><li><a href="#synchronous-communication-simple-but-blocking" class="table-of-contents__link toc-highlight">Synchronous Communication: Simple but Blocking</a></li><li><a href="#asynchronous-communication-parallel-by-defaut" class="table-of-contents__link toc-highlight">Asynchronous Communication: Parallel by Defaut</a></li><li><a href="#deferred-responses-best-of-both-worlds" class="table-of-contents__link toc-highlight">Deferred Responses: Best of Both Worlds</a></li><li><a href="#the-bigger-picture" class="table-of-contents__link toc-highlight">The Bigger Picture</a></li></ul></li><li><a href="#resilience-and-fault-tolerance" class="table-of-contents__link toc-highlight">Resilience and Fault Tolerance</a></li><li><a href="#caching-in-gateways" class="table-of-contents__link toc-highlight">Caching in Gateways</a></li><li><a href="#observability-because-you-cant-improve-what-you-dont-measure" class="table-of-contents__link toc-highlight">Observability: Because You Can’t Improve What You Don’t Measure</a></li><li><a href="#aggregating-and-normalizing-results" class="table-of-contents__link toc-highlight">Aggregating and Normalizing Results</a></li></ul></li><li><a href="#final-thoughts-a-gateway-is-more-than-a-middleman" class="table-of-contents__link toc-highlight">Final Thoughts: A Gateway Is More Than a Middleman</a></li><li><a href="#bonus-resources" class="table-of-contents__link toc-highlight">BONUS: Resources</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Learn</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/defconq/" target="_blank" rel="noopener noreferrer" class="footer__link-item">DefconQ Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/alexanderunterrainer/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Alexander Unterrainer Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://defconq.myspreadshop.co.uk" target="_blank" rel="noopener noreferrer" class="footer__link-item">DefconQ Swag<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://www.youtube.com/@DefconQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube Channel<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://defconq.substack.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Substack Newsletter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://medium.com/@defconq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/DefconQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 DefconQ Ltd. This website is maintained by Alexander Unterrainer. Disclaimer: All content shared on this website reflect solely his personal thoughts and opinions, and is not representative of any past, current, or future employers or affiliations.</div></div></div></footer></div>
</body>
</html>