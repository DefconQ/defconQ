"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8528],{93789:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>h});var r=n(74848),s=n(28453);const o={sidebar_position:13},i="Euston, We Have an Error",a={id:"concepts/error",title:"Euston, We Have an Error",description:"If you\u2019ve just started learning KDB/Q and thought the language was the only terse thing, think again. The error codes are just as terse. At a first glance, KDB/Q errors can feel confusing, even a bit intimidating, but once you look closer and reflect on them, they actually make a lot of sense. Still, when you\u2019re beginning your journey, it can definitely feel overwhelming.",source:"@site/docs/concepts/error.mdx",sourceDirName:"concepts",slug:"/concepts/error",permalink:"/docs/concepts/error",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:13,frontMatter:{sidebar_position:13},sidebar:"tutorialSidebar",previous:{title:"Beyond the Fundamentals: Next Level Interprocess Communications",permalink:"/docs/concepts/ipcNextLevel"},next:{title:"Design Patterns for KDB/Q Systems",permalink:"/docs/category/design-patterns-for-kdbq-systems"}},l={},h=[{value:"type",id:"type",level:2},{value:"length",id:"length",level:2},{value:"rank",id:"rank",level:2},{value:"domain",id:"domain",level:2},{value:"mismatch",id:"mismatch",level:2},{value:"from",id:"from",level:2},{value:"upd",id:"upd",level:2},{value:"wsfull",id:"wsfull",level:2},{value:"-w abort",id:"-w-abort",level:2},{value:"u-fail",id:"u-fail",level:2},{value:"<strong>BONUS</strong>: nyi",id:"bonus-nyi",level:2},{value:"Catch Me If You Can: Error Traps that Secure Your KDB/Q Apps",id:"catch-me-if-you-can-error-traps-that-secure-your-kdbq-apps",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"euston-we-have-an-error",children:"Euston, We Have an Error"}),"\n",(0,r.jsxs)(t.p,{children:["If you\u2019ve just started learning KDB/Q and thought the ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"language"})})," was the only terse thing, think again. The error codes are just as terse. At a first glance, KDB/Q errors can feel confusing, even a bit intimidating, but once you look closer and reflect on them, they actually make a lot of sense. Still, when you\u2019re beginning your journey, it can definitely feel overwhelming."]}),"\n",(0,r.jsx)(t.p,{children:"In this blog post, I\u2019ll break down the ten most common errors you\u2019ll run into, explain what they mean, show examples of how they arise, and walk you through how to avoid them. I will also share some helpful tips and tricks for debugging your code so you can track down issues faster and with confidence."}),"\n",(0,r.jsx)(t.p,{children:"Strap in, Euston, prepare for lift-off."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Euston, We Have an Error",src:n(930).A+"",width:"1536",height:"1024"})}),"\n",(0,r.jsx)(t.h2,{id:"type",children:"type"}),"\n",(0,r.jsxs)(t.p,{children:["Let's start with one of the most intuitive errors you\u2019ll encounter: the ",(0,r.jsx)(t.strong,{children:"type error"}),". As the name implies, this happens when the data type of one or more arguments isn\u2019t what KDB/Q expects. A classic example is attempting to add a number to a symbol, an operation that simply doesn\u2019t make sense."]}),"\n",(0,r.jsxs)(t.p,{children:["Because KDB/Q is a ",(0,r.jsx)(t.a,{href:"https://www.defconq.tech/docs/language/KDB#dynamic-by-design",children:(0,r.jsx)(t.strong,{children:"dynamic array language"})})," where both variables and functions can change at runtime, mismatched types can appear more easily than you expect. When they do, KDB/Q politely (well\u2026 tersely) lets you know with a ",(0,r.jsx)(t.code,{children:"type"})," error."]}),"\n",(0,r.jsx)(t.p,{children:"Some practical examples are:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)4+`a\n'type\n  [0]  4+`a\n        ^\nq)sum `hello`world\n'type\n  [0]  sum `hello`world\n       ^\n"})}),"\n",(0,r.jsxs)(t.p,{children:["As shown in the examples above, a ",(0,r.jsx)(t.code,{children:"type"})," error is raised in situations where incompatible data types are used. In the first case, adding a number to a symbol triggers the error; in the second, attempting to sum two symbols results in the same issue, an operation that simply has no meaning in KDB/Q. Even when using other operators, such as amending a list of integers with a symbol via the ",(0,r.jsx)(t.a,{href:"https://www.defconq.tech/docs/concepts/amend",children:(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"amend\u2010at"})})}),", KDB/Q will rightfully complain with a ",(0,r.jsx)(t.code,{children:"type"})," error."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)@[1 2 3;0 1;:;`hello]\n'type\n  [0]  @[1 2 3;0 1;:;`hello]\n       ^\n"})}),"\n",(0,r.jsxs)(t.p,{children:["However, there are cases where you might ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"expect"})})," a ",(0,r.jsx)(t.code,{children:"type"})," error, yet KDB/Q happily carries on without any complaints. A classic example is adding an integer to a float. Since this operation is mathematically valid, KDB/Q simply performs it, no error needed."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)3+4.0\n7f\n"})}),"\n",(0,r.jsxs)(t.p,{children:["More surprisingly, concatenating an integer or even a symbol to a string doesn\u2019t trigger a ",(0,r.jsx)(t.code,{children:"type"})," error either. While this might be unexpected at first, at a second glance it works because in KDB/Q, a string is simply a ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"list of characters"})}),", and KDB/Q fully supports mixed lists. By appending a value of a different type to a string, KDB/Q implicitly creates a mixed list. You can easily verify this behaviour with the example below."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'q)"Hello World",4\n"H"\n"e"\n"l"\n"l"\n"o"\n" "\n"W"\n"o"\n"r"\n"l"\n"d"\n4\nq)"Hello World", `Errors\n"H"\n"e"\n"l"\n"l"\n"o"\n" "\n"W"\n"o"\n"r"\n"l"\n"d"\n`Errors\n'})}),"\n",(0,r.jsxs)(t.p,{children:["By applying the ",(0,r.jsx)(t.a,{href:"https://code.kx.com/q/ref/type/",children:(0,r.jsx)(t.code,{children:"type"})})," operator to the results of these concatenations, we can clearly confirm that both outputs are treated as mixed lists (type 0h). In other words, KDB/Q doesn\u2019t reject the operation, it simply adapts the data structure."]}),"\n",(0,r.jsx)(t.h2,{id:"length",children:"length"}),"\n",(0,r.jsxs)(t.p,{children:["Next up is the ",(0,r.jsx)(t.strong,{children:"length error"}),", another fairly intuitive one. This error is raised whenever you attempt to perform an operation on two parameters that don\u2019t share the same length. There is one important caveat, though: sometimes KDB/Q can perform an ",(0,r.jsx)(t.strong,{children:"implicit atomic extension"})," to make the operation valid. But before we get ahead of ourselves, let\u2019s walk through a few examples."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"// Operation on parameters of same length, no error is thrown\nq)1+2\n3\nq)1 2 3+4 5 6\n5 7 9\n// Operation on two parameters of different length, a length error is raised\nq)1 2+3 4 5\n'length\n  [0]  1 2+3 4 5\n          ^\nq)\n"})}),"\n",(0,r.jsxs)(t.p,{children:["So far so good, right? Now let\u2019s talk about the ",(0,r.jsx)(t.a,{href:"https://code.kx.com/q4m3/6_Functions/#66-atomic-functions",children:(0,r.jsx)(t.strong,{children:"atomic extensions"})})," mentioned earlier. When an operation involves one list and one atom, KDB/Q doesn\u2019t immediately complain. Instead, it will automatically ",(0,r.jsx)(t.strong,{children:"extend"})," the atom to match the length of the list and then apply the operation element-wise. This clever behaviour prevents a length error and makes working with arrays both powerful and concise."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)1 2 3+10\n11 12 13\n"})}),"\n",(0,r.jsxs)(t.p,{children:["But we\u2019re not done yet, there\u2019s another key detail worth highlighting. Let\u2019s take a step back and remind ourselves what KDB/Q fundamentally is: an ",(0,r.jsx)(t.strong,{children:"array programming language"}),". (f you\u2019d like to explore this in more detail, take a look ",(0,r.jsx)(t.a,{href:"https://www.defconq.tech/docs/language/KDB",children:"here"}),"). In KDB/Q, tables aren\u2019t magic objects; they are simply ",(0,r.jsx)(t.strong,{children:"flipped column dictionaries"})," (Want to nerd out a bit more? You can read the full explanation ",(0,r.jsx)(t.a,{href:"https://www.defconq.tech/docs/concepts/dictionariesTables",children:"here"}),"), meaning each column is just a vector. And that leads to an important rule: ",(0,r.jsx)(t.strong,{children:"whenever you operate on a table column, the result must produce vectors of the same length as the table itself."})," If it doesn\u2019t, you\u2019ll immediately run into a ",(0,r.jsx)(t.code,{children:"length"})," error. The example below illustrates exactly what happens when this rule is broken."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)t:([] a:1 2 3;b:`One`Two`Three)\nq)show t:([] a:1 2 3;b:`One`Two`Three)\na b\n-------\n1 One\n2 Two\n3 Three\nq)update c:10 20 from t\n'length\n  [0]  update c:10 20 from t\n       ^\nq)update c:10 20 30 from t\na b     c\n----------\n1 One   10\n2 Two   20\n3 Three 30\n"})}),"\n",(0,r.jsx)(t.p,{children:"Hopefully this makes length errors a lot less mysterious and helps you spot them quickly whenever they show up."}),"\n",(0,r.jsx)(t.h2,{id:"rank",children:"rank"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"rank"})," error is somewhat like a cousin of the ",(0,r.jsx)(t.code,{children:"length"})," error, at least that\u2019s how I like to think about it. In KDB/Q the ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"rank"})})," of a function refers to the number of arguments it expects. For example, the addition operator + takes exactly two arguments. If you try to pass more (or fewer), Q throws a rank error. In short, your \u201cargument count\u201d doesn\u2019t match what the function requires. Luckily, this one is easy to fix: just adjust the number of parameters you\u2019re passing."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)+[1;2;3]\n'rank\n  [0]  +[1;2;3]\n       ^\nq)f:{[one;two;three] one+two+three}\nq)f[1;2;3]\n6\nq)f[1;2;3;4]\n'rank\n  [0]  f[1;2;3;4]\n       ^\n"})}),"\n",(0,r.jsx)(t.h2,{id:"domain",children:"domain"}),"\n",(0,r.jsxs)(t.p,{children:["Before diving into the next error, it\u2019s worth revisiting what a function actually is: ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"\u201cIn mathematics, a function assigns each input value to exactly one output value. The set of valid inputs is called the domain, and the set from which outputs are taken is called the codomain.\u201d"})})," (",(0,r.jsx)(t.a,{href:"https://code.kx.com/q4m3/0_Overview/#022-functions",children:"Q for Mortals, Overview"}),"). If we provide a value that doesn\u2019t belong to the domain, the function simply can\u2019t operate on it, resulting in a ",(0,r.jsx)(t.strong,{children:"domain error"}),". A simple example is the ",(0,r.jsx)(t.code,{children:"til"})," operator. Given a positive integer ",(0,r.jsx)(t.code,{children:"x"}),", it generates all natural numbers from ",(0,r.jsx)(t.code,{children:"0"})," to ",(0,r.jsx)(t.code,{children:"x-1"}),". But its domain excludes negative integers, so passing one instantly triggers a domain error."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"// The argument is in the domain of the function\nq)til 5\n0 1 2 3 4\n// The argument is outside of the domain of the function\nq)til -1\n'domain\n  [0]  til -1\n       ^\n"})}),"\n",(0,r.jsx)(t.h2,{id:"mismatch",children:"mismatch"}),"\n",(0,r.jsxs)(t.p,{children:["If you try to join two tables with a simple comma join but their schemas don\u2019t match, KDB/Q will throw a ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"mismatch"})})," error. And that\u2019s exactly how I think of it: the schema between the two tables ",(0,r.jsx)(t.strong,{children:"simply doesn\u2019t match"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)([]a:til 4; b:`one`two`three`four),([]b:til 4;c:`one`two`three`four)\n'mismatch\n  [0]  ([]a:til 4; b:`one`two`three`four),([]b:til 4;c:`one`two`three`four)\n                                         ^\nq)([]a:til 4; b:`one`two`three`four),([]a:til 4;b:`one`two`three`four)\na b\n-------\n0 one\n1 two\n2 three\n3 four\n0 one\n1 two\n2 three\n3 four\n"})}),"\n",(0,r.jsx)(t.h2,{id:"from",children:"from"}),"\n",(0,r.jsxs)(t.p,{children:["Sticking with table-related issues for a moment: if you write a poorly structured Q-SQL query, you\u2019ll run into a ",(0,r.jsx)(t.code,{children:"from"})," error. This isn\u2019t limited to forgetting the ",(0,r.jsx)(t.code,{children:"from"})," keyword; it appears whenever the query itself is malformed."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)select t where a=1\n'from\n  [0]  select t where a=1\n                        ^\nq)selec from t where a=1\n'from\n  [0]  selec from t where a=1\n             ^\n"})}),"\n",(0,r.jsxs)(t.p,{children:["A simple way to avoid poorly structured Q-SQL queries is to brush up on the basics. You can start by reading my blog post on Q-SQL ",(0,r.jsx)(t.a,{href:"https://www.defconq.tech/docs/concepts/qsql",children:"here"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"upd",children:"upd"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"upd"})," error is a classic one you\u2019ll often encounter during Tickerplant (TP) log replays. Although it\u2019s specific to the replay workflow, it highlights a much broader and more fundamental error pattern. So let\u2019s make sure we really understand what\u2019s going on. To understand why this error occurs, we first need to remind ourselves what\u2019s inside a TP log file. As shown below, a TP log is essentially a list of lists."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'`upd `trade (0D14:56:01.113310000;`AUDUSD;"S";1000;96.96)\n`upd `trade (0D14:56:01.115310000;`SGDUSD;"S";5000;95.45)\n`upd `trade (0D14:56:01.119310000;`AUDUSD;"B";1000;95.08)\n`upd `trade (0D14:56:01.121310000;`AUDUSD;"B";1000;95.65)\n`upd `trade (0D14:56:01.122310000;`SGDUSD;"B";5000;98.14)\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Each line contains the function to execute (",(0,r.jsx)(t.code,{children:"upd"}),"), the target table name, and the data being written. Once you understand that structure, the reason behind the ",(0,r.jsx)(t.code,{children:"upd"})," error becomes much clearer. The ",(0,r.jsx)(t.code,{children:"upd"})," error isn't random, it only occurs when the ",(0,r.jsx)(t.code,{children:"upd"})," function has not been defined. We can confirm this with a simple example. First, we mimic a typical TP log entry by creating a list where the first element is a function and the remaining elements are its arguments. For simplicity, we\u2019ll use the ",(0,r.jsx)(t.code,{children:"+"})," operator with two integers. Evaluating this list with ",(0,r.jsx)(t.code,{children:"value"})," correctly applies the function and returns the result."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)value (+;2;3)\n5\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Next, we try the same idea using a TP-style entry. We define a small table with user names and ages, then attempt to insert a record by evaluating a list that calls ",(0,r.jsx)(t.code,{children:"upd"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)show t:([] name:`$(); age: `int$())\nname age\n--------\nq)upd[`t;(`alex;38i)]\n'upd\n  [0]  upd[`t;(`alex;38i)]\n       ^\n"})}),"\n",(0,r.jsxs)(t.p,{children:["Since ",(0,r.jsx)(t.code,{children:"upd"})," is not defined, evaluating the expression triggers the ",(0,r.jsx)(t.code,{children:"upd"})," error."]}),"\n",(0,r.jsx)(t.p,{children:"This leads us to a more general rule: whenever KDB/Q references a function or variable that doesn\u2019t exist in the current namespace, it throws an error using that missing name. In other words, the error message is simply the name of what\u2019s undefined. Let\u2019s see a practical example of this behaviour."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)thisFunctionDoesntExist[4;5]\n'thisFunctionDoesntExist\n  [0]  thisFunctionDoesntExist[4;5]\n       ^\nq)2+thisVariableDoesntExist\n'thisVariableDoesntExist\n  [0]  2+thisVariableDoesntExist\n         ^\n"})}),"\n",(0,r.jsx)(t.p,{children:"Understanding this pattern makes it much easier to track down where an error comes from and resolve it quickly.Understanding this pattern makes it much easier to track down where an error comes from and resolve it quickly. The key takeaway: if you\u2019re going to fail, fail fast!"}),"\n",(0,r.jsx)(t.h2,{id:"wsfull",children:"wsfull"}),"\n",(0,r.jsxs)(t.p,{children:["The next error is one you ",(0,r.jsx)(t.strong,{children:"never"})," want to see. It doesn\u2019t just signal a (potential) flaw in your code, it means you\u2019ve hit a ",(0,r.jsx)(t.strong,{children:"hardware limit"}),": you\u2019ve ",(0,r.jsx)(t.strong,{children:"run out of memory"}),". At this point, the process will crash, you\u2019ll stop intake of real-time data, and you may lose data entirely. The example below illustrates how this can happen, but ",(0,r.jsx)(t.strong,{children:"do not run it unless you want to intentionally crash your machine"}),", and ",(0,r.jsx)(t.strong,{children:"never, ever in production."})]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)999999999999#0\n"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"And this kids is how I crashed my MacBook because I run out of memory",src:n(56775).A+"",width:"612",height:"408"})}),"\n",(0,r.jsx)(t.p,{children:"As you can see below, once my MacBook began running out of memory, it slowly started suspending processes one by one."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"System crash due to wsfull - Part 1",src:n(16043).A+"",width:"834",height:"744"})}),"\n",(0,r.jsx)(t.p,{children:"It put up a brave fight, but eventually tapped out, shut down, and restarted. For me, it was just an unexpected coffee break before getting back to blogging. But in production? A crash won\u2019t just wake you up like caffeine, it will shake you harder than an espresso shot to the system."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"System crash due to wsfull - Part 2",src:n(44752).A+"",width:"858",height:"742"})}),"\n",(0,r.jsx)(t.h2,{id:"-w-abort",children:"-w abort"}),"\n",(0,r.jsxs)(t.p,{children:["Instead of letting your KDB/Q process eat up all available RAM like it\u2019s at an all-you-can-eat buffet, you can put it on a strict diet. Setting a memory limit ensures that the ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"process"})})," dies when it overeats, not your entire server. Once this limit is hit, the process terminates immediately, but at least the machine stays alive and the rest of your system keeps running. Use the ",(0,r.jsx)(t.code,{children:"-w"})," argument to specify how many MB it\u2019s allowed to consume. For example, ",(0,r.jsx)(t.code,{children:"-w 10"})," restricts it to 10MB. If you leave ",(0,r.jsx)(t.code,{children:"-w"})," at its default value of 0, the process gets unlimited access to your machine\u2019s memory... and we all know how that story ends."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"alexanderunterrainer@Mac:~|\u21d2  qx -w 10\nKDB-X 0.1.1 2025.09.29 Copyright (C) 1993-2025 Kx Systems\nm64/ 8()core 24576MB alexanderunterrainer mac 192.168.1.177 EXPIRE 2025.12.31 COMMUNITY #5029523\n\nq)999999999#0\n'-w abort\n"})}),"\n",(0,r.jsx)(t.h2,{id:"u-fail",children:"u-fail"}),"\n",(0,r.jsxs)(t.p,{children:["The u-fail error is hands-down my favourite. Not because I bump into it often, in fact, I rarely do, but because of its name. It\u2019s hard not to smile at an error that casually tells you: ",(0,r.jsx)(t.strong,{children:"\u201cyou fail.\u201d"})," I like to think it\u2019s KDB/Q\u2019s subtle tribute to every ",(0,r.jsx)(t.em,{children:"qbie"})," discovering the language and making their first glorious mistakes."]}),"\n",(0,r.jsxs)(t.p,{children:["You\u2019ll run into ",(0,r.jsx)(t.code,{children:"u-fail"})," when trying to apply the ",(0,r.jsx)(t.strong,{children:"unique attribute"})," to a list that... well... isn\u2019t ",(0,r.jsx)(t.strong,{children:"unique"}),". Likewise, you\u2019ll trigger it by applying the ",(0,r.jsx)(t.strong,{children:"parted attribute"})," to a list that isn\u2019t actually ",(0,r.jsx)(t.strong,{children:"parted"}),". It\u2019s KDB/Q\u2019s way of gently whispering, ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"\u201cnice try, but your attributes need some work.\u201d"})})]}),"\n",(0,r.jsxs)(t.p,{children:["A close cousin to this is the ",(0,r.jsx)(t.code,{children:"s-fail"})," error, thrown when you attempt to mark a list as ",(0,r.jsx)(t.strong,{children:"sorted"})," when it\u2019s not actually sorted in ",(0,r.jsx)(t.strong,{children:"ascending order"}),". If you\u2019ve been blessed with both ",(0,r.jsx)(t.code,{children:"u-fail"})," and ",(0,r.jsx)(t.code,{children:"s-fail"}),", it may be time for a quick refresher on attributes."]}),"\n",(0,r.jsxs)(t.p,{children:["Luckily, DefconQ comes to rescue. Check out my deep dive on attributes ",(0,r.jsx)(t.a,{href:"https://www.defconq.tech/docs/concepts/attributes",children:"here"}),". Happy debugging!"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"q)`u#2 2 3 4\n'u-fail\n  [0]  `u#2 2 3 4\n         ^\nq)`u#2 2 3 3 2 2 4 3 3 3\n'u-fail\n  [0]  `u#2 2 3 3 2 2 4 3 3 3\n         ^\nq)`u#2 3 4\n`u#2 3 4\nq)`p#2 2 2 3 3 3 4 2 2 3 3\n'u-fail\n  [0]  `p#2 2 2 3 3 3 4 2 2 3 3\n         ^\nq)`p#2 2 2 3 3 3 4\n`p#2 2 2 3 3 3 4\nq)`s#5 4 3 2 1\n's-fail\n  [0]  `s#5 4 3 2 1\n         ^\nq)`s#1 2 3 4\n`s#1 2 3 4\n"})}),"\n",(0,r.jsxs)(t.h2,{id:"bonus-nyi",children:[(0,r.jsx)(t.strong,{children:"BONUS"}),": nyi"]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"nyi error"})," is another special one, it stands for ",(0,r.jsx)(t.strong,{children:"\u201cNot Yet Implemented.\u201d"})," You\u2019ll come across it whenever you attempt an operation that could make sense logically, but simply hasn\u2019t been built into the language (at least not yet). In other words, KDB/Q is telling you: ",(0,r.jsx)(t.em,{children:"\u201cInteresting idea... maybe one day, but not today.\u201d"})," It\u2019s a little reminder that the language continues to evolve, and some ideas still need time to mature."]}),"\n",(0,r.jsx)(t.h2,{id:"catch-me-if-you-can-error-traps-that-secure-your-kdbq-apps",children:"Catch Me If You Can: Error Traps that Secure Your KDB/Q Apps"}),"\n",(0,r.jsx)(t.p,{children:"Up to this point, we\u2019ve explored the most common KDB/Q errors, what triggers them, and how to prevent them. But no matter how careful you are, unexpected scenarios still happen, and when they do, you don\u2019t want your entire application grinding to a halt."}),"\n",(0,r.jsxs)(t.p,{children:["To protect your system from crashing in the face of an error, you should wrap any risky or unpredictable code in an ",(0,r.jsx)(t.strong,{children:"error trap"}),", using the (heavily overloaded) ",(0,r.jsx)(t.strong,{children:"trap"})," ",(0,r.jsx)(t.code,{children:"."})," or ",(0,r.jsx)(t.strong,{children:"trap at"})," ",(0,r.jsx)(t.code,{children:"@"})," operator. The table below shows the syntax and how to use it effectively:"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Function name"}),(0,r.jsx)(t.th,{children:"Function syntax"}),(0,r.jsx)(t.th,{children:"Function semantics"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Trap"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:".[g;gx;e]"})}),(0,r.jsxs)(t.td,{children:["Try ",(0,r.jsx)(t.code,{children:"g . gx"})," ; catch with ",(0,r.jsx)(t.code,{children:"e"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Trap at"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"@[f;fx;e]"})}),(0,r.jsxs)(t.td,{children:["Try ",(0,r.jsx)(t.code,{children:"f@fx"}),"   ; catch with ",(0,r.jsx)(t.code,{children:"e"})]})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"Examples:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'q)neg `a\n\'type\n  [0]  neg `a\n       ^\nq)@[neg;`a;`error]\n`error\nq).[+;"ab";`ouch]\n`ouch\n'})}),"\n",(0,r.jsxs)(t.p,{children:["For a deeper exploration of ",(0,r.jsx)(t.strong,{children:"trap"}),", you can read the full walkthrough ",(0,r.jsx)(t.a,{href:"https://www.defconq.tech/docs/concepts/amend#trap",children:"here"}),". The ",(0,r.jsx)(t.strong,{children:"extended trap at"})," functionality is also covered ",(0,r.jsx)(t.a,{href:"https://code.kx.com/q/ref/dotq/#trp-extend-trap-at",children:"here"})," and I\u2019ll leave that one for you to experiment with. Enjoy the challenge!"]}),"\n",(0,r.jsx)(t.p,{children:"To wrap things up, KDB/Q errors really aren\u2019t as frightening as they first appear. Now that you understand what they mean and how to interpret them, there\u2019s no need to panic the next time one pops up on your screen. Consider them helpful signposts rather than scary roadblocks."})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},56775:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/HowICrashedMyMacBook-9c5a0a666e32c4b7bd0329749327d0eb.jpg"},930:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/error-e8dd88ffbdf10bf02c1b4ec4a06edaa5.png"},16043:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/shutdown1-7c4741128ceb896a6f825f21f017c86b.png"},44752:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/shutdown2-2e6833762e53c705312e8311657a5ac1.png"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(96540);const s={},o=r.createContext(s);function i(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);